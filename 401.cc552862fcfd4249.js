(self.webpackChunkfmComments=self.webpackChunkfmComments||[]).push([[401],{6401:(j,E,s)=>{s.r(E),s.d(E,{AppComponent:()=>M});var r=s(2691),l=s(2078),f=s(206),i=s(1263),y=s(354),A=s(5559);let M=(()=>{class c{constructor(){this.title="fm-comments"}static#e=this.\u0275fac=function(u){return new(u||c)};static#t=this.\u0275cmp=A.\u0275\u0275defineComponent({type:c,selectors:[["app-root"]],standalone:!0,features:[A.\u0275\u0275StandaloneFeature],decls:4,vars:0,consts:[[1,"app-main"]],template:function(u,p){1&u&&(A.\u0275\u0275elementStart(0,"main",0),A.\u0275\u0275element(1,"app-comments-list")(2,"app-add-comment")(3,"app-modal"),A.\u0275\u0275elementEnd())},dependencies:[r.CommonModule,f.HttpClientModule,l.$,i.y,y.z],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;font-family:Rubik,sans-serif}*[class*=_btn][_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 768px){.app-main[_ngcontent-%COMP%]{padding:5rem}}"]})}return c})()},1263:(j,E,s)=>{s.d(E,{y:()=>M});var r=s(5559),l=s(2691),v=s(6223),i=s(4898);function y(c,C){if(1&c){const I=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"textarea",5),r.\u0275\u0275listener("ngModelChange",function(p){r.\u0275\u0275restoreView(I);const k=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(k.content=p)}),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(2,"button",6),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(I);const p=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(p.postComment())}),r.\u0275\u0275text(3," Send "),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()}if(2&c){const I=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngModel",I.content)}}function A(c,C){if(1&c&&(r.\u0275\u0275elementStart(0,"div",2),r.\u0275\u0275element(1,"img",3),r.\u0275\u0275template(2,y,4,1,"ng-container",4),r.\u0275\u0275elementEnd()),2&c){const I=r.\u0275\u0275nextContext(),u=r.\u0275\u0275reference(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("src","assets/images/"+I.user().image.png,r.\u0275\u0275sanitizeUrl)("alt",I.user().username),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!I.isReply)("ngIfElse",u)}}function b(c,C){if(1&c){const I=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"textarea",7),r.\u0275\u0275listener("ngModelChange",function(p){r.\u0275\u0275restoreView(I);const k=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(k.content=p)}),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(1,"button",6),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(I);const p=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(p.reply())}),r.\u0275\u0275text(2," Reply "),r.\u0275\u0275elementEnd()}if(2&c){const I=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngModel",I.content)}}let M=(()=>{class c{constructor(I){this.commentSrv=I,this.isReply=!1,this.replyEvent=new r.EventEmitter,this.user=this.commentSrv.user,this.content=""}postComment(){this.content.length>0&&(this.commentSrv.add$.next(this.content),this.content="")}reply(){this.content.length>0&&this.comment&&(this.commentSrv.reply$.next({content:this.content,repliesTo:this.comment,repliesToUser:this.repliesTo}),this.content="",this.replyEvent.emit())}static#e=this.\u0275fac=function(u){return new(u||c)(r.\u0275\u0275directiveInject(i.r))};static#t=this.\u0275cmp=r.\u0275\u0275defineComponent({type:c,selectors:[["app-add-comment"]],inputs:{comment:"comment",repliesTo:"repliesTo",isReply:"isReply"},outputs:{replyEvent:"replyEvent"},standalone:!0,features:[r.\u0275\u0275StandaloneFeature],decls:3,vars:1,consts:[["class","comment reply-box "],["replyTemp",""],[1,"comment","reply-box"],[1,"comment-header_img",3,"src","alt"],[4,"ngIf","ngIfElse"],["spellcheck","true","name","","id","","cols","120","rows","8","placeholder","Add a comment...",1,"comment-text",3,"ngModel","ngModelChange"],[1,"send_btn",3,"click"],["spellcheck","true","name","reply","cols","120","rows","8",1,"comment-text",3,"ngModel","ngModelChange"]],template:function(u,p){1&u&&r.\u0275\u0275template(0,A,3,4,"div",0)(1,b,3,1,"ng-template",null,1,r.\u0275\u0275templateRefExtractor),2&u&&r.\u0275\u0275conditional(0,p.user()?0:-1)},dependencies:[v.u5,v.Fj,v.JJ,v.On,l.NgIf],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;font-family:Rubik,sans-serif}*[class*=_btn][_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 768px){.app-main[_ngcontent-%COMP%]{padding:5rem}}.comment[_ngcontent-%COMP%]{box-shadow:7px 5px 5px #d3d3d3;padding:1.5rem;border-radius:10px;display:flex;flex-direction:column;gap:2rem;position:relative;background-color:#fff;margin:.25rem 0rem}.comment-header_img[_ngcontent-%COMP%]{width:3rem;height:3rem;order:2}.comment-text[_ngcontent-%COMP%]{border-radius:8px;border-color:#324152;color:gray;font-size:16px;padding:1rem;box-sizing:border-box}.reply-box[_ngcontent-%COMP%]{margin:1rem 0;box-sizing:content-box;animation:_ngcontent-%COMP%_slideInRight .3s ease-in}.send_btn[_ngcontent-%COMP%]{height:-moz-fit-content;border:none;background:none;height:fit-content;padding:1rem 1.75rem;border-radius:6px;text-transform:uppercase;font-weight:700;font-size:16px;background-color:#5457b6;color:#fff;position:absolute;bottom:10%;right:5%}.send_btn[_ngcontent-%COMP%]:hover{background-color:#c3c4ef}@media (min-width: 768px){.comment[_ngcontent-%COMP%]{flex-direction:row}.comment-text[_ngcontent-%COMP%]{order:2}.comment-header_img[_ngcontent-%COMP%]{order:1}.send_btn[_ngcontent-%COMP%]{position:relative;bottom:0;right:0;order:3}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(20%);opacity:0}to{transform:translate(0);opacity:1}}"]})}return c})()},892:(j,E,s)=>{s.d(E,{L:()=>L});var r=s(2691),l=s(6223),f=s(1263),v=s(127),i=s(5559),A=s(4898),b=s(387);function M(w,G){1&w&&i.\u0275\u0275elementContainer(0)}const c=(w,G)=>G.id;function C(w,G){1&w&&i.\u0275\u0275elementContainer(0)}const I=w=>({comment:w,isReply:!0});function u(w,G){if(1&w&&i.\u0275\u0275template(0,C,1,0,"ng-container",0),2&w){const V=G.$implicit;i.\u0275\u0275nextContext(2);const H=i.\u0275\u0275reference(3);i.\u0275\u0275property("ngTemplateOutlet",H)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,I,V))}}function p(w,G){if(1&w&&(i.\u0275\u0275elementStart(0,"section",3),i.\u0275\u0275repeaterCreate(1,u,1,4,"ng-container",null,c),i.\u0275\u0275elementEnd()),2&w){const V=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275repeater(V.comment.replies)}}function k(w,G){1&w&&(i.\u0275\u0275elementStart(0,"span",21),i.\u0275\u0275text(1," you "),i.\u0275\u0275elementEnd())}function S(w,G){if(1&w){const V=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"textarea",22),i.\u0275\u0275listener("ngModelChange",function(Y){i.\u0275\u0275restoreView(V);const X=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(X.updateContent=Y)}),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(2,"button",23),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(V);const Y=i.\u0275\u0275nextContext().comment,X=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(X.updateComment(Y))}),i.\u0275\u0275text(3," Update "),i.\u0275\u0275elementEnd()}if(2&w){const V=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("ngModel",V.updateContent),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(V.comment.content)}}function R(w,G){if(1&w&&(i.\u0275\u0275elementStart(0,"span",25),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&w){const V=i.\u0275\u0275nextContext(2).comment;i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" @",V.replyingTo," ")}}function U(w,G){if(1&w&&(i.\u0275\u0275template(0,R,2,1,"span",24),i.\u0275\u0275text(1)),2&w){const V=i.\u0275\u0275nextContext(),Y=V.comment;i.\u0275\u0275conditional(0,V.isReply?0:-1),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",Y.content," ")}}function K(w,G){if(1&w){const V=i.\u0275\u0275getCurrentView();i.\u0275\u0275namespaceSVG(),i.\u0275\u0275namespaceHTML(),i.\u0275\u0275elementStart(0,"div",26)(1,"button",27),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(V);const Y=i.\u0275\u0275nextContext().comment,X=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(X.openReply=Y.id)}),i.\u0275\u0275namespaceSVG(),i.\u0275\u0275elementStart(2,"svg",28),i.\u0275\u0275element(3,"path",29),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(4," Reply "),i.\u0275\u0275elementEnd()()}}function x(w,G){if(1&w){const V=i.\u0275\u0275getCurrentView();i.\u0275\u0275namespaceSVG(),i.\u0275\u0275namespaceHTML(),i.\u0275\u0275elementStart(0,"div",26)(1,"button",30),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(V);const Y=i.\u0275\u0275nextContext().comment,X=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(X.openModal(Y))}),i.\u0275\u0275namespaceSVG(),i.\u0275\u0275elementStart(2,"svg",31),i.\u0275\u0275element(3,"path",32),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(4," Delete "),i.\u0275\u0275elementEnd(),i.\u0275\u0275namespaceHTML(),i.\u0275\u0275elementStart(5,"button",33),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(V);const Y=i.\u0275\u0275nextContext().comment,X=i.\u0275\u0275nextContext();return X.editComment=Y.id,i.\u0275\u0275resetView(X.updateContent=Y.content)}),i.\u0275\u0275namespaceSVG(),i.\u0275\u0275elementStart(6,"svg",34),i.\u0275\u0275element(7,"path",35),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(8," Edit "),i.\u0275\u0275elementEnd()()}}function P(w,G){if(1&w){const V=i.\u0275\u0275getCurrentView();i.\u0275\u0275namespaceSVG(),i.\u0275\u0275namespaceHTML(),i.\u0275\u0275elementStart(0,"form",36)(1,"app-add-comment",37),i.\u0275\u0275listener("replyEvent",function(){i.\u0275\u0275restoreView(V);const Y=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(Y.openReply=0)}),i.\u0275\u0275elementEnd()()}if(2&w){const V=i.\u0275\u0275nextContext().comment,H=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("isReply",!0)("comment",H.comment)("repliesTo",null==V.user?null:V.user.username)}}const B=w=>({"has-scored":w});function J(w,G){if(1&w){const V=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"article",4)(1,"div",5)(2,"div",6),i.\u0275\u0275element(3,"img",7),i.\u0275\u0275elementStart(4,"h2",8),i.\u0275\u0275text(5),i.\u0275\u0275template(6,k,2,0,"span",9),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"span",10),i.\u0275\u0275text(8),i.\u0275\u0275pipe(9,"formatDate"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(10,"div",11),i.\u0275\u0275template(11,S,4,2)(12,U,2,2),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(13,"div",12)(14,"button",13),i.\u0275\u0275listener("click",function(){const X=i.\u0275\u0275restoreView(V).comment,ie=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(ie.score(X))}),i.\u0275\u0275namespaceSVG(),i.\u0275\u0275elementStart(15,"svg",14),i.\u0275\u0275element(16,"path",15),i.\u0275\u0275elementEnd()(),i.\u0275\u0275namespaceHTML(),i.\u0275\u0275elementStart(17,"span",16),i.\u0275\u0275text(18),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(19,"button",13),i.\u0275\u0275listener("click",function(){const X=i.\u0275\u0275restoreView(V).comment,ie=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(ie.unscore(X))}),i.\u0275\u0275namespaceSVG(),i.\u0275\u0275elementStart(20,"svg",17),i.\u0275\u0275element(21,"path",18),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275template(22,K,5,0,"div",19)(23,x,9,0),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(24,P,2,3,"form",20)}if(2&w){const V=G.comment,H=i.\u0275\u0275nextContext();let Y,X;i.\u0275\u0275advance(3),i.\u0275\u0275property("src","assets/images/"+V.user.image.png,i.\u0275\u0275sanitizeUrl)("alt",H.comment.user.username),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",V.user.username," "),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",V.user.username===(null==(Y=H.currentUser())?null:Y.username)),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(9,12,V.createdAt)," "),i.\u0275\u0275advance(3),i.\u0275\u0275conditional(11,H.editComment===V.id?11:12),i.\u0275\u0275advance(3),i.\u0275\u0275property("disabled",H.scoredByUser(V)),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(14,B,H.scoredByUser(V))),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",V.score," "),i.\u0275\u0275advance(1),i.\u0275\u0275property("disabled",H.scoredByUser(V)),i.\u0275\u0275advance(3),i.\u0275\u0275conditional(22,(null==(X=H.currentUser())?null:X.username)!==V.user.username?22:23),i.\u0275\u0275advance(2),i.\u0275\u0275conditional(24,H.openReply===V.id?24:-1)}}const T=w=>({comment:w,isReply:!1});let L=(()=>{class w{constructor(V,H){this.commentSrv=V,this.modalSrv=H,this.openReply=0,this.editComment=0,this.updateContent="",this.currentUser=this.commentSrv.user}score(V){V.user.username!==this.currentUser()?.username?this.commentSrv.score$.next({comment:V,upvote:!0}):this.modalSrv.open({title:"Error",body:"You can't score your own comment.",showButtons:!1,applyAction:()=>{},cancelAction:()=>{},showClose:!0})}unscore(V){this.commentSrv.score$.next({comment:V,upvote:!1})}deleteComment(V){this.commentSrv.remove$.next({comment:V,repliesTo:this.comment})}updateComment(V){V.content&&(this.commentSrv.edit$.next({comment:V,text:this.updateContent,repliesTo:this.comment}),this.editComment=0,this.updateContent="")}openModal(V){this.modalSrv.open({title:"Delete comment",body:"Are you sure yoy want to delete this comment? This will remove the comment and can't be undone.",showButtons:!0,applyAction:()=>{this.deleteComment(V),this.modalSrv.close()},cancelAction:()=>this.modalSrv.close(),cancelBtnText:"No, cancel",applyBtnText:"Yes, delete",showClose:!1})}scoredByUser(V){return void 0!==V.scoredBy?.find(H=>H.username===this.currentUser()?.username)}static#e=this.\u0275fac=function(H){return new(H||w)(i.\u0275\u0275directiveInject(A.r),i.\u0275\u0275directiveInject(b.Z))};static#t=this.\u0275cmp=i.\u0275\u0275defineComponent({type:w,selectors:[["app-comment"]],inputs:{comment:"comment"},standalone:!0,features:[i.\u0275\u0275StandaloneFeature],decls:4,vars:5,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","replies"],["commentContent",""],[1,"replies"],[1,"comment"],[1,"comment-content"],[1,"comment-header"],[1,"comment-header_img",3,"src","alt"],[1,"comment-header_username"],["class","comment-header_you-tag",4,"ngIf"],[1,"comment-header_created-at"],[1,"comment-body"],[1,"comment-score"],[1,"comment-score_btn",3,"disabled","click"],["width","11","height","11","xmlns","http://www.w3.org/2000/svg"],["d","M6.33 10.896c.137 0 .255-.05.354-.149.1-.1.149-.217.149-.354V7.004h3.315c.136 0 .254-.05.354-.149.099-.1.148-.217.148-.354V5.272a.483.483 0 0 0-.148-.354.483.483 0 0 0-.354-.149H6.833V1.4a.483.483 0 0 0-.149-.354.483.483 0 0 0-.354-.149H4.915a.483.483 0 0 0-.354.149c-.1.1-.149.217-.149.354v3.37H1.08a.483.483 0 0 0-.354.15c-.1.099-.149.217-.149.353v1.23c0 .136.05.254.149.353.1.1.217.149.354.149h3.333v3.39c0 .136.05.254.15.353.098.1.216.149.353.149H6.33Z","fill","currentColor"],[3,"ngClass"],["width","11","height","3","xmlns","http://www.w3.org/2000/svg"],["d","M9.256 2.66c.204 0 .38-.056.53-.167.148-.11.222-.243.222-.396V.722c0-.152-.074-.284-.223-.395a.859.859 0 0 0-.53-.167H.76a.859.859 0 0 0-.53.167C.083.437.009.57.009.722v1.375c0 .153.074.285.223.396a.859.859 0 0 0 .53.167h8.495Z","fill","currentColor"],["class","comment-reply"],["class","reply-box"],[1,"comment-header_you-tag"],["spellcheck","true","rows","8",1,"comment-text",3,"ngModel","ngModelChange"],[1,"update_btn",3,"click"],["class","comment-body_mention-tag"],[1,"comment-body_mention-tag"],[1,"comment-reply"],[1,"comment-reply_btn",3,"click"],["width","14","height","13","xmlns","http://www.w3.org/2000/svg"],["d","M.227 4.316 5.04.16a.657.657 0 0 1 1.085.497v2.189c4.392.05 7.875.93 7.875 5.093 0 1.68-1.082 3.344-2.279 4.214-.373.272-.905-.07-.767-.51 1.24-3.964-.588-5.017-4.829-5.078v2.404c0 .566-.664.86-1.085.496L.227 5.31a.657.657 0 0 1 0-.993Z","fill","currentColor"],[1,"comment-delete_btn",3,"click"],["width","12","height","14","xmlns","http://www.w3.org/2000/svg"],["d","M1.167 12.448c0 .854.7 1.552 1.555 1.552h6.222c.856 0 1.556-.698 1.556-1.552V3.5H1.167v8.948Zm10.5-11.281H8.75L7.773 0h-3.88l-.976 1.167H0v1.166h11.667V1.167Z","fill","currentColor"],[1,"comment-edit_btn",3,"click"],["width","14","height","14","xmlns","http://www.w3.org/2000/svg"],["d","M13.479 2.872 11.08.474a1.75 1.75 0 0 0-2.327-.06L.879 8.287a1.75 1.75 0 0 0-.5 1.06l-.375 3.648a.875.875 0 0 0 .875.954h.078l3.65-.333c.399-.04.773-.216 1.058-.499l7.875-7.875a1.68 1.68 0 0 0-.061-2.371Zm-2.975 2.923L8.159 3.449 9.865 1.7l2.389 2.39-1.75 1.706Z","fill","currentColor"],[1,"reply-box"],[3,"isReply","comment","repliesTo","replyEvent"]],template:function(H,Y){if(1&H&&i.\u0275\u0275template(0,M,1,0,"ng-container",0)(1,p,3,0,"section",1)(2,J,25,16,"ng-template",null,2,i.\u0275\u0275templateRefExtractor),2&H){const X=i.\u0275\u0275reference(3);i.\u0275\u0275property("ngTemplateOutlet",X)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(3,T,Y.comment)),i.\u0275\u0275advance(1),i.\u0275\u0275conditional(1,Y.comment.replies.length>0?1:-1)}},dependencies:[r.NgTemplateOutlet,r.NgIf,r.NgClass,f.y,l.u5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,v.i],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;font-family:Rubik,sans-serif}*[class*=_btn][_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 768px){.app-main[_ngcontent-%COMP%]{padding:5rem}}.comment[_ngcontent-%COMP%]{box-shadow:7px 5px 5px #d3d3d3;padding:1.5rem;border-radius:10px;display:flex;flex-direction:column;gap:2rem;position:relative;background-color:#fff;margin:.25rem 0rem}.comment-content[_ngcontent-%COMP%]{font-size:16px;color:gray;width:100%}.comment-body[_ngcontent-%COMP%]{padding-bottom:2rem;position:relative}.comment-body[_ngcontent-%COMP%]   .update_btn[_ngcontent-%COMP%]{height:-moz-fit-content;border:none;background:none;height:fit-content;padding:1rem 1.75rem;border-radius:6px;text-transform:uppercase;font-weight:700;font-size:16px;background-color:#5457b6;color:#fff;position:absolute;right:0%;bottom:5%}.comment-body[_ngcontent-%COMP%]   .update_btn[_ngcontent-%COMP%]:hover{background-color:#c3c4ef}.comment-body_mention-tag[_ngcontent-%COMP%]{color:#5457b6;font-weight:500}.comment-text[_ngcontent-%COMP%]{border-radius:8px;border-color:#324152;color:gray;font-size:16px;width:100%;padding:1rem;margin-bottom:3rem;box-sizing:border-box}.comment-reply[_ngcontent-%COMP%]{position:absolute;bottom:10%;right:5%;display:flex;gap:.75rem;height:-moz-fit-content;height:fit-content}.comment-reply_btn[_ngcontent-%COMP%]{border:none;background:none;font-size:16px;color:#5457b6;font-weight:500;display:flex;gap:.4rem;align-items:center}.comment-reply_btn[_ngcontent-%COMP%]:hover, .comment-reply_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{color:#c3c4ef}.comment-reply[_ngcontent-%COMP%]   .comment-edit_btn[_ngcontent-%COMP%]{border:none;background:none;font-size:16px;color:#5457b6}.comment-reply[_ngcontent-%COMP%]   .comment-edit_btn[_ngcontent-%COMP%]:hover{color:#c3c4ef}.comment-reply[_ngcontent-%COMP%]   .comment-delete_btn[_ngcontent-%COMP%]{border:none;background:none;font-size:16px;color:#ed6468}.comment-reply[_ngcontent-%COMP%]   .comment-delete_btn[_ngcontent-%COMP%]:hover{color:#ffb8bb}.comment-score[_ngcontent-%COMP%]{order:2;display:flex;align-items:center;gap:10px;width:30%;justify-content:space-between;background-color:#f5f6fa;border-radius:10px;padding:8px}.comment-score_btn[_ngcontent-%COMP%]{border:none;background:none;color:gray;font-weight:500;font-size:16px;padding:5px 12px;display:flex;align-items:center}.comment-score_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:ease-in-out .1s}.comment-score_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{transform:scale(1.5)}.comment-score_btn[disabled][_ngcontent-%COMP%]{color:#d3d3d3}.comment-score_btn[disabled][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:none}.comment-score_btn[disabled][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{transform:none}.comment-score[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#5457b6;font-weight:700;font-size:16px}.comment-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-size:16px;color:initial}.comment-header_username[_ngcontent-%COMP%]{font-weight:500;display:flex;align-items:center;gap:.5rem}.comment-header_img[_ngcontent-%COMP%]{width:2rem;height:2rem}.comment-header_created-at[_ngcontent-%COMP%]{color:gray;font-size:16px}.comment-header_you-tag[_ngcontent-%COMP%]{background-color:#5457b6;color:#fff;font-size:12px;padding:.25rem .4rem;border-radius:1px}.replies[_ngcontent-%COMP%]{margin:1rem 0 1rem 1.5rem;padding-left:1.5rem;background:none;border-left:solid hsl(223,19%,93%) 2px;display:flex;flex-direction:column;gap:1.5rem}@media (min-width: 768px){.comment[_ngcontent-%COMP%]{flex-direction:row}.comment-reply[_ngcontent-%COMP%]{position:absolute;top:10%;right:5%}.comment-content[_ngcontent-%COMP%]{order:2}.comment-score[_ngcontent-%COMP%]{order:1;display:flex;flex-direction:column;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.comment-score_btn[_ngcontent-%COMP%]{padding:12px}}article.comment[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .75s ease-in}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}"]})}return w})()},2078:(j,E,s)=>{s.d(E,{$:()=>M});var r=s(2691),l=s(892),f=s(5559),i=s(4898);const y=(c,C)=>C.id;function A(c,C){1&c&&f.\u0275\u0275element(0,"app-comment",1),2&c&&f.\u0275\u0275property("comment",C.$implicit)}function b(c,C){1&c&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1,"No comments"),f.\u0275\u0275elementEnd())}let M=(()=>{class c{constructor(I){this.commentsSrv=I,this.comments=this.commentsSrv.comments}static#e=this.\u0275fac=function(u){return new(u||c)(f.\u0275\u0275directiveInject(i.r))};static#t=this.\u0275cmp=f.\u0275\u0275defineComponent({type:c,selectors:[["app-comments-list"]],standalone:!0,features:[f.\u0275\u0275StandaloneFeature],decls:4,vars:1,consts:[[1,"comments-list"],[3,"comment"]],template:function(u,p){1&u&&(f.\u0275\u0275elementStart(0,"section",0),f.\u0275\u0275repeaterCreate(1,A,1,1,"app-comment",1,y,!1,b,2,0),f.\u0275\u0275elementEnd()),2&u&&(f.\u0275\u0275advance(1),f.\u0275\u0275repeater(p.comments()))},dependencies:[r.CommonModule,l.L],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;font-family:Rubik,sans-serif}*[class*=_btn][_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 768px){.app-main[_ngcontent-%COMP%]{padding:5rem}}.comments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}"]})}return c})()},354:(j,E,s)=>{s.d(E,{z:()=>A});var r=s(2691),l=s(5559),v=s(387);function i(b,M){if(1&b){const c=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",7)(1,"button",8),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(c);const I=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(I.modal().cancelAction())}),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(3,"button",9),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(c);const I=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(I.modal().applyAction())}),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd()()}if(2&b){const c=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1(" ",c.modal().cancelBtnText," "),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1(" ",c.modal().applyBtnText," ")}}function y(b,M){if(1&b){const c=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275element(1,"div",1),l.\u0275\u0275elementStart(2,"div",2)(3,"span",3),l.\u0275\u0275namespaceSVG(),l.\u0275\u0275elementStart(4,"svg",4),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(c);const I=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(I.close())}),l.\u0275\u0275element(5,"path",5),l.\u0275\u0275elementEnd()(),l.\u0275\u0275namespaceHTML(),l.\u0275\u0275elementStart(6,"h2"),l.\u0275\u0275text(7),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(8,"p"),l.\u0275\u0275text(9),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(10,i,5,2,"div",6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()}if(2&b){const c=l.\u0275\u0275nextContext();l.\u0275\u0275advance(3),l.\u0275\u0275property("hidden",!c.modal().showClose),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate1(" ",c.modal().title," "),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1(" ",c.modal().body," "),l.\u0275\u0275advance(1),l.\u0275\u0275conditional(10,c.modal().showButtons?10:-1)}}let A=(()=>{class b{constructor(c){this.modalSrv=c,this.isOpen=this.modalSrv.isOpen,this.modal=this.modalSrv.modal}cancel(){this.modalSrv.close()}apply(){this.modal().applyAction(),this.modalSrv.close()}close(){this.modalSrv.close()}static#e=this.\u0275fac=function(C){return new(C||b)(l.\u0275\u0275directiveInject(v.Z))};static#t=this.\u0275cmp=l.\u0275\u0275defineComponent({type:b,selectors:[["app-modal"]],standalone:!0,features:[l.\u0275\u0275StandaloneFeature],decls:1,vars:1,consts:[[4,"ngIf"],[1,"overlay"],[1,"modal"],[1,"close-modal",3,"hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"close-modal-icon",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18 18 6M6 6l12 12"],["class","buttons-container"],[1,"buttons-container"],[1,"cancel",3,"click"],[1,"apply",3,"click"]],template:function(C,I){1&C&&l.\u0275\u0275template(0,y,11,4,"ng-container",0),2&C&&l.\u0275\u0275property("ngIf",!0===I.isOpen())},dependencies:[r.NgIf],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;font-family:Rubik,sans-serif}*[class*=_btn][_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 768px){.app-main[_ngcontent-%COMP%]{padding:5rem}}.modal[_ngcontent-%COMP%]{position:fixed;background-color:#fff;z-index:11;top:30%;left:25%;width:50%;border-radius:5px;padding:1.5rem 2rem;display:flex;flex-direction:column;gap:.75rem;animation:_ngcontent-%COMP%_appear .2s ease-in}.modal[_ngcontent-%COMP%]   .close-modal[_ngcontent-%COMP%]{position:relative}.modal[_ngcontent-%COMP%]   .close-modal-icon[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;right:0;top:5%;color:#324152;cursor:pointer}.modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:0;margin:0}.modal[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:space-between}.modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:85%;color:gray}.modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;height:-moz-fit-content;height:fit-content;padding:1rem 1.75rem;border-radius:6px;text-transform:uppercase;font-weight:700;font-size:16px;color:#fff}.modal[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{background-color:#ed6468}.modal[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffb8bb}.modal[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%]{background-color:#67727e}.modal[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%]:hover{background-color:#eaecf1}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#324152;opacity:.5;z-index:10}@media (min-width: 768px){.modal[_ngcontent-%COMP%]{width:30%;left:35%}}@keyframes _ngcontent-%COMP%_appear{0%{transform:scale(.8)}to{transform:scale(1)}}"]})}return b})()},127:(j,E,s)=>{s.d(E,{i:()=>l});var r=s(5559);let l=(()=>{class f{transform(i){if(!/^\d{1,2}\/\d{1,2}\/\d{2,4}$/.test(i))return i;const A=this.getDifference(i);return A>2?A>7?A>30?`${Math.floor(A/30)} months ago`:`${Math.floor(A/7)} weeks ago`:`${A} days ago`:"Now"}getDifference(i){const y=new Date,A=new Date(i),b=Date.UTC(y.getFullYear(),y.getMonth(),y.getDate()),M=Date.UTC(A.getFullYear(),A.getMonth(),A.getDate());return Math.floor((b-M)/864e5)}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275pipe=r.\u0275\u0275definePipe({name:"formatDate",type:f,pure:!0,standalone:!0})}return f})()},4898:(j,E,s)=>{s.d(E,{r:()=>c});var r=s(5559),l=s(8645),f=s(9397),v=s(7398),i=s(2096),y=s(7146),b=s(206);let c=(()=>{class C{constructor(u){this.http=u,this.commentsSrc$=this.getComments(),this.userSrc$=this.getUser(),this.add$=new l.x,this.reply$=new l.x,this.edit$=new l.x,this.remove$=new l.x,this.score$=new l.x,this.state=(0,r.signal)({comments:[],currentUser:null}),this.user=(0,r.computed)(()=>this.state().currentUser),this.comments=(0,r.computed)(()=>this.state().comments),this.initReducers()}saveToSession({comments:u}){sessionStorage.setItem("comments",JSON.stringify(u))}getFromSession(){return JSON.parse(sessionStorage.getItem("comments")||"[]")}initReducers(){this.commentsSrc$.pipe((0,y.takeUntilDestroyed)(),(0,f.b)(u=>this.saveToSession({...this.state(),comments:u}))).subscribe(u=>{this.state.update(p=>({...p,comments:u}))}),this.userSrc$.pipe((0,y.takeUntilDestroyed)()).subscribe(u=>{this.state.update(p=>({...p,currentUser:u}))}),this.add$.pipe((0,y.takeUntilDestroyed)()).subscribe(u=>{this.state.update(p=>this.handleAddEvent(p,u,this.saveToSession))}),this.reply$.pipe((0,y.takeUntilDestroyed)()).subscribe(u=>{this.state.update(p=>this.handleReplyEvent(p,u,this.saveToSession))}),this.edit$.pipe((0,y.takeUntilDestroyed)()).subscribe(u=>{this.state.update(p=>this.editEventHandler(p,u,this.saveToSession))}),this.remove$.pipe((0,y.takeUntilDestroyed)()).subscribe(u=>{this.state.update(p=>this.deleteEventHandler(p,u,this.saveToSession))}),this.score$.pipe((0,y.takeUntilDestroyed)()).subscribe(u=>{this.state.update(p=>this.scoreEventHandler(p,u,this.saveToSession))})}getComments(){return 0===this.getFromSession().length?this.http.get("/assets/data/data.json").pipe((0,v.U)(u=>u.comments),(0,f.b)(u=>{this.saveToSession({...this.state(),comments:u})})):(0,i.of)(this.getFromSession())}getUser(){return this.http.get("/assets/data/data.json").pipe((0,v.U)(u=>u.currentUser))}newComment(u){return{id:Date.now(),content:u,createdAt:this.getToday(),score:0,user:this.user(),replies:[]}}handleAddEvent(u,p,k){const S=this.newComment(p),R={...u,comments:[...u.comments,S]};return k(R),R}deleteEventHandler(u,p,k){let S=[...this.comments()];if(p.repliesTo?.id===p.comment.id){const U=S.findIndex(K=>K.id==p.comment.id);-1!==U&&S.splice(U,1)}else{const U=S.find(K=>K.id===p.repliesTo?.id);if(U){const K=U.replies.findIndex(x=>x.id===p.comment.id);-1!==K&&U.replies.splice(K,1)}}const R={...u,comments:S};return k(R),R}handleReplyEvent(u,p,k){const S=this.newComment(p.content);S.replyingTo=p.repliesToUser;const R=u.comments.findIndex(x=>x.id===p.repliesTo.id);if(-1===R)return{...u};const U=[...u.comments];U[R].replies.push(S);const K={...u,comments:U};return k(K),K}editEventHandler(u,p,k){let S=[...this.comments()];if(p.repliesTo.id===p.comment.id){const U=S.findIndex(K=>K.id==p.comment.id);-1!==U&&(S[U].content=p.text)}else{const U=S.find(K=>K.id===p.repliesTo.id);if(U){const K=U.replies.findIndex(x=>x.id===p.comment.id);-1!==K&&(U.replies[K].content=p.text)}}const R={...u,comments:S};return k(R),R}scoreEventHandler(u,p,k){const R={...u,comments:[...this.comments()].map(U=>(U.id===p.comment.id?U=this.score(U,p):U.replies.find(K=>K.id===p.comment.id)&&U.replies.map(K=>(K.id===p.comment.id&&(K=this.score(K,p)),K)),U))};return k(R),R}score(u,p){return!u.scoredBy?.find(k=>k.username===this.user()?.username)&&u.user.username!==this.user()?.username&&(p.upvote?u.score+=1:u.score>0&&(u.score-=1),u.scoredBy?u.scoredBy.push(this.user()):u.scoredBy=[this.user()]),u}getToday(){const u=new Date;return`${u.getMonth()+1}/${u.getDate()}/${u.getFullYear()}`}static#e=this.\u0275fac=function(p){return new(p||C)(r.\u0275\u0275inject(b.HttpClient))};static#t=this.\u0275prov=r.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},387:(j,E,s)=>{s.d(E,{Z:()=>l});var r=s(5559);let l=(()=>{class f{constructor(){this.initialModal={title:"",body:"",showButtons:!0,cancelAction:()=>{},applyAction:()=>{},cancelBtnText:"",applyBtnText:""},this._isOpen=(0,r.signal)(!1),this.isOpen=(0,r.computed)(()=>this._isOpen()),this._modalContent=(0,r.signal)(this.initialModal),this.modal=(0,r.computed)(()=>this._modalContent())}open(i){this._isOpen.set(!0),this._modalContent.set(i)}close(){this._isOpen.set(!1),this._modalContent.set(this.initialModal)}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=r.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},5592:(j,E,s)=>{s.d(E,{y:()=>A});var r=s(305),g=s(7394),l=s(4850),f=s(8407),v=s(2653),i=s(4674),y=s(1441);let A=(()=>{class C{constructor(u){u&&(this._subscribe=u)}lift(u){const p=new C;return p.source=this,p.operator=u,p}subscribe(u,p,k){const S=function c(C){return C&&C instanceof r.Lv||function M(C){return C&&(0,i.m)(C.next)&&(0,i.m)(C.error)&&(0,i.m)(C.complete)}(C)&&(0,g.Nn)(C)}(u)?u:new r.Hp(u,p,k);return(0,y.x)(()=>{const{operator:R,source:U}=this;S.add(R?R.call(S,U):U?this._subscribe(S):this._trySubscribe(S))}),S}_trySubscribe(u){try{return this._subscribe(u)}catch(p){u.error(p)}}forEach(u,p){return new(p=b(p))((k,S)=>{const R=new r.Hp({next:U=>{try{u(U)}catch(K){S(K),R.unsubscribe()}},error:S,complete:k});this.subscribe(R)})}_subscribe(u){var p;return null===(p=this.source)||void 0===p?void 0:p.subscribe(u)}[l.L](){return this}pipe(...u){return(0,f.U)(u)(this)}toPromise(u){return new(u=b(u))((p,k)=>{let S;this.subscribe(R=>S=R,R=>k(R),()=>p(S))})}}return C.create=I=>new C(I),C})();function b(C){var I;return null!==(I=C??v.config.Promise)&&void 0!==I?I:Promise}},8645:(j,E,s)=>{s.d(E,{x:()=>y});var r=s(5592),g=s(7394);const f=(0,s(2306).d)(b=>function(){b(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var v=s(9039),i=s(1441);let y=(()=>{class b extends r.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(c){const C=new A(this,this);return C.operator=c,C}_throwIfClosed(){if(this.closed)throw new f}next(c){(0,i.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const C of this.currentObservers)C.next(c)}})}error(c){(0,i.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=c;const{observers:C}=this;for(;C.length;)C.shift().error(c)}})}complete(){(0,i.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:c}=this;for(;c.length;)c.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var c;return(null===(c=this.observers)||void 0===c?void 0:c.length)>0}_trySubscribe(c){return this._throwIfClosed(),super._trySubscribe(c)}_subscribe(c){return this._throwIfClosed(),this._checkFinalizedStatuses(c),this._innerSubscribe(c)}_innerSubscribe(c){const{hasError:C,isStopped:I,observers:u}=this;return C||I?g.Lc:(this.currentObservers=null,u.push(c),new g.w0(()=>{this.currentObservers=null,(0,v.P)(u,c)}))}_checkFinalizedStatuses(c){const{hasError:C,thrownError:I,isStopped:u}=this;C?c.error(I):u&&c.complete()}asObservable(){const c=new r.y;return c.source=this,c}}return b.create=(M,c)=>new A(M,c),b})();class A extends y{constructor(M,c){super(),this.destination=M,this.source=c}next(M){var c,C;null===(C=null===(c=this.destination)||void 0===c?void 0:c.next)||void 0===C||C.call(c,M)}error(M){var c,C;null===(C=null===(c=this.destination)||void 0===c?void 0:c.error)||void 0===C||C.call(c,M)}complete(){var M,c;null===(c=null===(M=this.destination)||void 0===M?void 0:M.complete)||void 0===c||c.call(M)}_subscribe(M){var c,C;return null!==(C=null===(c=this.source)||void 0===c?void 0:c.subscribe(M))&&void 0!==C?C:g.Lc}}},305:(j,E,s)=>{s.d(E,{Hp:()=>k,Lv:()=>C});var r=s(4674),g=s(7394),l=s(2653),f=s(3894),v=s(2420);const i=b("C",void 0,void 0);function b(x,P,B){return{kind:x,value:P,error:B}}var M=s(7599),c=s(1441);class C extends g.w0{constructor(P){super(),this.isStopped=!1,P?(this.destination=P,(0,g.Nn)(P)&&P.add(this)):this.destination=K}static create(P,B,J){return new k(P,B,J)}next(P){this.isStopped?U(function A(x){return b("N",x,void 0)}(P),this):this._next(P)}error(P){this.isStopped?U(function y(x){return b("E",void 0,x)}(P),this):(this.isStopped=!0,this._error(P))}complete(){this.isStopped?U(i,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(P){this.destination.next(P)}_error(P){try{this.destination.error(P)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const I=Function.prototype.bind;function u(x,P){return I.call(x,P)}class p{constructor(P){this.partialObserver=P}next(P){const{partialObserver:B}=this;if(B.next)try{B.next(P)}catch(J){S(J)}}error(P){const{partialObserver:B}=this;if(B.error)try{B.error(P)}catch(J){S(J)}else S(P)}complete(){const{partialObserver:P}=this;if(P.complete)try{P.complete()}catch(B){S(B)}}}class k extends C{constructor(P,B,J){let T;if(super(),(0,r.m)(P)||!P)T={next:P??void 0,error:B??void 0,complete:J??void 0};else{let L;this&&l.config.useDeprecatedNextContext?(L=Object.create(P),L.unsubscribe=()=>this.unsubscribe(),T={next:P.next&&u(P.next,L),error:P.error&&u(P.error,L),complete:P.complete&&u(P.complete,L)}):T=P}this.destination=new p(T)}}function S(x){l.config.useDeprecatedSynchronousErrorHandling?(0,c.O)(x):(0,f.h)(x)}function U(x,P){const{onStoppedNotification:B}=l.config;B&&M.z.setTimeout(()=>B(x,P))}const K={closed:!0,next:v.Z,error:function R(x){throw x},complete:v.Z}},7394:(j,E,s)=>{s.d(E,{Lc:()=>i,w0:()=>v,Nn:()=>y});var r=s(4674);const l=(0,s(2306).d)(b=>function(c){b(this),this.message=c?`${c.length} errors occurred during unsubscription:\n${c.map((C,I)=>`${I+1}) ${C.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=c});var f=s(9039);class v{constructor(M){this.initialTeardown=M,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let M;if(!this.closed){this.closed=!0;const{_parentage:c}=this;if(c)if(this._parentage=null,Array.isArray(c))for(const u of c)u.remove(this);else c.remove(this);const{initialTeardown:C}=this;if((0,r.m)(C))try{C()}catch(u){M=u instanceof l?u.errors:[u]}const{_finalizers:I}=this;if(I){this._finalizers=null;for(const u of I)try{A(u)}catch(p){M=M??[],p instanceof l?M=[...M,...p.errors]:M.push(p)}}if(M)throw new l(M)}}add(M){var c;if(M&&M!==this)if(this.closed)A(M);else{if(M instanceof v){if(M.closed||M._hasParent(this))return;M._addParent(this)}(this._finalizers=null!==(c=this._finalizers)&&void 0!==c?c:[]).push(M)}}_hasParent(M){const{_parentage:c}=this;return c===M||Array.isArray(c)&&c.includes(M)}_addParent(M){const{_parentage:c}=this;this._parentage=Array.isArray(c)?(c.push(M),c):c?[c,M]:M}_removeParent(M){const{_parentage:c}=this;c===M?this._parentage=null:Array.isArray(c)&&(0,f.P)(c,M)}remove(M){const{_finalizers:c}=this;c&&(0,f.P)(c,M),M instanceof v&&M._removeParent(this)}}v.EMPTY=(()=>{const b=new v;return b.closed=!0,b})();const i=v.EMPTY;function y(b){return b instanceof v||b&&"closed"in b&&(0,r.m)(b.remove)&&(0,r.m)(b.add)&&(0,r.m)(b.unsubscribe)}function A(b){(0,r.m)(b)?b():b.unsubscribe()}},2653:(j,E,s)=>{s.d(E,{config:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9315:(j,E,s)=>{s.d(E,{D:()=>A});var r=s(5592),g=s(7453),l=s(4829),f=s(4564),v=s(8251),i=s(7400),y=s(2714);function A(...b){const M=(0,f.jO)(b),{args:c,keys:C}=(0,g.D)(b),I=new r.y(u=>{const{length:p}=c;if(!p)return void u.complete();const k=new Array(p);let S=p,R=p;for(let U=0;U<p;U++){let K=!1;(0,l.Xf)(c[U]).subscribe((0,v.x)(u,x=>{K||(K=!0,R--),k[U]=x},()=>S--,void 0,()=>{(!S||!K)&&(R||u.next(C?(0,y.n)(C,k):k),u.complete())}))}});return M?I.pipe((0,i.Z)(M)):I}},7715:(j,E,s)=>{s.d(E,{D:()=>J});var r=s(4829),g=s(7103),l=s(9360),f=s(8251);function v(T,L=0){return(0,l.e)((w,G)=>{w.subscribe((0,f.x)(G,V=>(0,g.f)(G,T,()=>G.next(V),L),()=>(0,g.f)(G,T,()=>G.complete(),L),V=>(0,g.f)(G,T,()=>G.error(V),L)))})}function i(T,L=0){return(0,l.e)((w,G)=>{G.add(T.schedule(()=>w.subscribe(G),L))})}var b=s(5592),c=s(4971),C=s(4674);function u(T,L){if(!T)throw new Error("Iterable cannot be null");return new b.y(w=>{(0,g.f)(w,L,()=>{const G=T[Symbol.asyncIterator]();(0,g.f)(w,L,()=>{G.next().then(V=>{V.done?w.complete():w.next(V.value)})},0,!0)})})}var p=s(8382),k=s(4026),S=s(4266),R=s(3664),U=s(5726),K=s(9853),x=s(541);function J(T,L){return L?function B(T,L){if(null!=T){if((0,p.c)(T))return function y(T,L){return(0,r.Xf)(T).pipe(i(L),v(L))}(T,L);if((0,S.z)(T))return function M(T,L){return new b.y(w=>{let G=0;return L.schedule(function(){G===T.length?w.complete():(w.next(T[G++]),w.closed||this.schedule())})})}(T,L);if((0,k.t)(T))return function A(T,L){return(0,r.Xf)(T).pipe(i(L),v(L))}(T,L);if((0,U.D)(T))return u(T,L);if((0,R.T)(T))return function I(T,L){return new b.y(w=>{let G;return(0,g.f)(w,L,()=>{G=T[c.h](),(0,g.f)(w,L,()=>{let V,H;try{({value:V,done:H}=G.next())}catch(Y){return void w.error(Y)}H?w.complete():w.next(V)},0,!0)}),()=>(0,C.m)(G?.return)&&G.return()})}(T,L);if((0,x.L)(T))return function P(T,L){return u((0,x.Q)(T),L)}(T,L)}throw(0,K.z)(T)}(T,L):(0,r.Xf)(T)}},4829:(j,E,s)=>{s.d(E,{Xf:()=>I});var r=s(7582),g=s(4266),l=s(4026),f=s(5592),v=s(8382),i=s(5726),y=s(9853),A=s(3664),b=s(541),M=s(4674),c=s(3894),C=s(4850);function I(x){if(x instanceof f.y)return x;if(null!=x){if((0,v.c)(x))return function u(x){return new f.y(P=>{const B=x[C.L]();if((0,M.m)(B.subscribe))return B.subscribe(P);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(x);if((0,g.z)(x))return function p(x){return new f.y(P=>{for(let B=0;B<x.length&&!P.closed;B++)P.next(x[B]);P.complete()})}(x);if((0,l.t)(x))return function k(x){return new f.y(P=>{x.then(B=>{P.closed||(P.next(B),P.complete())},B=>P.error(B)).then(null,c.h)})}(x);if((0,i.D)(x))return R(x);if((0,A.T)(x))return function S(x){return new f.y(P=>{for(const B of x)if(P.next(B),P.closed)return;P.complete()})}(x);if((0,b.L)(x))return function U(x){return R((0,b.Q)(x))}(x)}throw(0,y.z)(x)}function R(x){return new f.y(P=>{(function K(x,P){var B,J,T,L;return(0,r.mG)(this,void 0,void 0,function*(){try{for(B=(0,r.KL)(x);!(J=yield B.next()).done;)if(P.next(J.value),P.closed)return}catch(w){T={error:w}}finally{try{J&&!J.done&&(L=B.return)&&(yield L.call(B))}finally{if(T)throw T.error}}P.complete()})})(x,P).catch(B=>P.error(B))})}},2096:(j,E,s)=>{s.d(E,{of:()=>l});var r=s(4564),g=s(7715);function l(...f){const v=(0,r.yG)(f);return(0,g.D)(f,v)}},8251:(j,E,s)=>{s.d(E,{x:()=>g});var r=s(305);function g(f,v,i,y,A){return new l(f,v,i,y,A)}class l extends r.Lv{constructor(v,i,y,A,b,M){super(v),this.onFinalize=b,this.shouldUnsubscribe=M,this._next=i?function(c){try{i(c)}catch(C){v.error(C)}}:super._next,this._error=A?function(c){try{A(c)}catch(C){v.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=y?function(){try{y()}catch(c){v.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var v;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(v=this.onFinalize)||void 0===v||v.call(this))}}}},7398:(j,E,s)=>{s.d(E,{U:()=>l});var r=s(9360),g=s(8251);function l(f,v){return(0,r.e)((i,y)=>{let A=0;i.subscribe((0,g.x)(y,b=>{y.next(f.call(v,b,A++))}))})}},9397:(j,E,s)=>{s.d(E,{b:()=>v});var r=s(4674),g=s(9360),l=s(8251),f=s(2737);function v(i,y,A){const b=(0,r.m)(i)||y||A?{next:i,error:y,complete:A}:i;return b?(0,g.e)((M,c)=>{var C;null===(C=b.subscribe)||void 0===C||C.call(b);let I=!0;M.subscribe((0,l.x)(c,u=>{var p;null===(p=b.next)||void 0===p||p.call(b,u),c.next(u)},()=>{var u;I=!1,null===(u=b.complete)||void 0===u||u.call(b),c.complete()},u=>{var p;I=!1,null===(p=b.error)||void 0===p||p.call(b,u),c.error(u)},()=>{var u,p;I&&(null===(u=b.unsubscribe)||void 0===u||u.call(b)),null===(p=b.finalize)||void 0===p||p.call(b)}))}):f.y}},7599:(j,E,s)=>{s.d(E,{z:()=>r});const r={setTimeout(g,l,...f){const{delegate:v}=r;return v?.setTimeout?v.setTimeout(g,l,...f):setTimeout(g,l,...f)},clearTimeout(g){const{delegate:l}=r;return(l?.clearTimeout||clearTimeout)(g)},delegate:void 0}},4971:(j,E,s)=>{s.d(E,{h:()=>g});const g=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(j,E,s)=>{s.d(E,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(j,E,s)=>{s.d(E,{_6:()=>i,jO:()=>f,yG:()=>v});var r=s(4674);function l(y){return y[y.length-1]}function f(y){return(0,r.m)(l(y))?y.pop():void 0}function v(y){return function g(y){return y&&(0,r.m)(y.schedule)}(l(y))?y.pop():void 0}function i(y,A){return"number"==typeof l(y)?y.pop():A}},7453:(j,E,s)=>{s.d(E,{D:()=>v});const{isArray:r}=Array,{getPrototypeOf:g,prototype:l,keys:f}=Object;function v(y){if(1===y.length){const A=y[0];if(r(A))return{args:A,keys:null};if(function i(y){return y&&"object"==typeof y&&g(y)===l}(A)){const b=f(A);return{args:b.map(M=>A[M]),keys:b}}}return{args:y,keys:null}}},9039:(j,E,s)=>{function r(g,l){if(g){const f=g.indexOf(l);0<=f&&g.splice(f,1)}}s.d(E,{P:()=>r})},2306:(j,E,s)=>{function r(g){const f=g(v=>{Error.call(v),v.stack=(new Error).stack});return f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f}s.d(E,{d:()=>r})},2714:(j,E,s)=>{function r(g,l){return g.reduce((f,v,i)=>(f[v]=l[i],f),{})}s.d(E,{n:()=>r})},1441:(j,E,s)=>{s.d(E,{O:()=>f,x:()=>l});var r=s(2653);let g=null;function l(v){if(r.config.useDeprecatedSynchronousErrorHandling){const i=!g;if(i&&(g={errorThrown:!1,error:null}),v(),i){const{errorThrown:y,error:A}=g;if(g=null,y)throw A}}else v()}function f(v){r.config.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=v)}},7103:(j,E,s)=>{function r(g,l,f,v=0,i=!1){const y=l.schedule(function(){f(),i?g.add(this.schedule(null,v)):this.unsubscribe()},v);if(g.add(y),!i)return y}s.d(E,{f:()=>r})},2737:(j,E,s)=>{function r(g){return g}s.d(E,{y:()=>r})},4266:(j,E,s)=>{s.d(E,{z:()=>r});const r=g=>g&&"number"==typeof g.length&&"function"!=typeof g},5726:(j,E,s)=>{s.d(E,{D:()=>g});var r=s(4674);function g(l){return Symbol.asyncIterator&&(0,r.m)(l?.[Symbol.asyncIterator])}},4674:(j,E,s)=>{function r(g){return"function"==typeof g}s.d(E,{m:()=>r})},8382:(j,E,s)=>{s.d(E,{c:()=>l});var r=s(4850),g=s(4674);function l(f){return(0,g.m)(f[r.L])}},3664:(j,E,s)=>{s.d(E,{T:()=>l});var r=s(4971),g=s(4674);function l(f){return(0,g.m)(f?.[r.h])}},4026:(j,E,s)=>{s.d(E,{t:()=>g});var r=s(4674);function g(l){return(0,r.m)(l?.then)}},541:(j,E,s)=>{s.d(E,{L:()=>f,Q:()=>l});var r=s(7582),g=s(4674);function l(v){return(0,r.FC)(this,arguments,function*(){const y=v.getReader();try{for(;;){const{value:A,done:b}=yield(0,r.qq)(y.read());if(b)return yield(0,r.qq)(void 0);yield yield(0,r.qq)(A)}}finally{y.releaseLock()}})}function f(v){return(0,g.m)(v?.getReader)}},9360:(j,E,s)=>{s.d(E,{A:()=>g,e:()=>l});var r=s(4674);function g(f){return(0,r.m)(f?.lift)}function l(f){return v=>{if(g(v))return v.lift(function(i){try{return f(i,this)}catch(y){this.error(y)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(j,E,s)=>{s.d(E,{Z:()=>f});var r=s(7398);const{isArray:g}=Array;function f(v){return(0,r.U)(i=>function l(v,i){return g(i)?v(...i):v(i)}(v,i))}},2420:(j,E,s)=>{function r(){}s.d(E,{Z:()=>r})},8407:(j,E,s)=>{s.d(E,{U:()=>l,z:()=>g});var r=s(2737);function g(...f){return l(f)}function l(f){return 0===f.length?r.y:1===f.length?f[0]:function(i){return f.reduce((y,A)=>A(y),i)}}},3894:(j,E,s)=>{s.d(E,{h:()=>l});var r=s(2653),g=s(7599);function l(f){g.z.setTimeout(()=>{const{onUnhandledError:v}=r.config;if(!v)throw f;v(f)})}},9853:(j,E,s)=>{function r(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}s.d(E,{z:()=>r})},6223:(j,E,s)=>{s.d(E,{F:()=>Me,Fj:()=>u,JJ:()=>ae,JL:()=>Ke,On:()=>Ue,_Y:()=>ot,u5:()=>fn});var r=s(5559),g=s(2691),l=s(7715),f=s(9315),v=s(7398);let i=(()=>{class t{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(o){return new(o||t)(r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(r.ElementRef))};static#t=this.\u0275dir=r.\u0275\u0275defineDirective({type:t})}return t})(),y=(()=>{class t extends i{static#e=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=r.\u0275\u0275getInheritedFactory(t)))(a||t)}})();static#t=this.\u0275dir=r.\u0275\u0275defineDirective({type:t,features:[r.\u0275\u0275InheritDefinitionFeature]})}return t})();const A=new r.InjectionToken("NgValueAccessor"),c={provide:A,useExisting:(0,r.forwardRef)(()=>u),multi:!0},I=new r.InjectionToken("CompositionEventMode");let u=(()=>{class t extends i{constructor(e,o,a){super(e,o),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function C(){const t=(0,g.\u0275getDOM)()?(0,g.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(o){return new(o||t)(r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(I,8))};static#t=this.\u0275dir=r.\u0275\u0275defineDirective({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,a){1&o&&r.\u0275\u0275listener("input",function($){return a._handleInput($.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function($){return a._compositionEnd($.target.value)})},features:[r.\u0275\u0275ProvidersFeature([c]),r.\u0275\u0275InheritDefinitionFeature]})}return t})();const S=new r.InjectionToken("NgValidators"),R=new r.InjectionToken("NgAsyncValidators");function H(t){return null!=t}function Y(t){return(0,r.\u0275isPromise)(t)?(0,l.D)(t):t}function X(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function ie(t,n){return n.map(e=>e(t))}function Ae(t){return t.map(n=>function Oe(t){return!t.validate}(n)?n:e=>n.validate(e))}function h(t){return null!=t?function d(t){if(!t)return null;const n=t.filter(H);return 0==n.length?null:function(e){return X(ie(e,n))}}(Ae(t)):null}function m(t){return null!=t?function _(t){if(!t)return null;const n=t.filter(H);return 0==n.length?null:function(e){const o=ie(e,n).map(Y);return(0,f.D)(o).pipe((0,v.U)(X))}}(Ae(t)):null}function O(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function Z(t){return t?Array.isArray(t)?t:[t]:[]}function te(t,n){return Array.isArray(t)?t.includes(n):t===n}function W(t,n){const e=Z(n);return Z(t).forEach(a=>{te(e,a)||e.push(a)}),e}function Q(t,n){return Z(n).filter(e=>!te(t,e))}class q{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=h(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=m(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class z extends q{get formDirective(){return null}get path(){return null}}class ee extends q{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ne{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ae=(()=>{class t extends ne{constructor(e){super(e)}static#e=this.\u0275fac=function(o){return new(o||t)(r.\u0275\u0275directiveInject(ee,2))};static#t=this.\u0275dir=r.\u0275\u0275defineDirective({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,a){2&o&&r.\u0275\u0275classProp("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[r.\u0275\u0275InheritDefinitionFeature]})}return t})(),Ke=(()=>{class t extends ne{constructor(e){super(e)}static#e=this.\u0275fac=function(o){return new(o||t)(r.\u0275\u0275directiveInject(z,10))};static#t=this.\u0275dir=r.\u0275\u0275defineDirective({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,a){2&o&&r.\u0275\u0275classProp("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)("ng-submitted",a.isSubmitted)},features:[r.\u0275\u0275InheritDefinitionFeature]})}return t})();const de="VALID",pe="INVALID",ce="PENDING",he="DISABLED";function xe(t){return(ge(t)?t.validators:t)||null}function we(t,n){return(ge(n)?n.asyncValidators:t)||null}function ge(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ze{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===de}get invalid(){return this.status===pe}get pending(){return this.status==ce}get disabled(){return this.status===he}get enabled(){return this.status!==he}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(W(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(W(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Q(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Q(n,this._rawAsyncValidators))}hasValidator(n){return te(this._rawValidators,n)}hasAsyncValidator(n){return te(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ce,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=he,this.errors=null,this._forEachChild(o=>{o.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=de,this._forEachChild(o=>{o.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===de||this.status===ce)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?he:de}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ce,this._hasOwnPendingAsyncValidator=!0;const e=Y(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,a)=>o&&o._find(a),this)}getError(n,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new r.EventEmitter,this.statusChanges=new r.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?he:this.errors?pe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ce)?ce:this._anyControlsHaveStatus(pe)?pe:de}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){ge(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function Pt(t){return Array.isArray(t)?h(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function Vt(t){return Array.isArray(t)?m(t):t||null}(this._rawAsyncValidators)}}class Ie extends Ze{constructor(n,e,o){super(xe(e),we(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,o={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function ze(t,n,e){t._forEachChild((o,a)=>{if(void 0===e[a])throw new r.\u0275RuntimeError(1002,"")})})(this,0,n),Object.keys(n).forEach(o=>{(function $e(t,n,e){const o=t.controls;if(!(n?Object.keys(o):o).length)throw new r.\u0275RuntimeError(1e3,"");if(!o[e])throw new r.\u0275RuntimeError(1001,"")})(this,!0,o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(o=>{const a=this.controls[o];a&&a.patchValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((o,a)=>{o.reset(n?n[a]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,o)=>(n[o]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&n(o,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,o]of Object.entries(this.controls))if(this.contains(e)&&n(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,o,a)=>((o.enabled||this.disabled)&&(e[a]=o.value),e))}_reduceChildren(n,e){let o=n;return this._forEachChild((a,F)=>{o=e(o,a,F)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const ue=new r.InjectionToken("CallSetDisabledState",{providedIn:"root",factory:()=>ve}),ve="always";function me(t,n,e=ve){Se(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function It(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ye(t,n)})}(t,n),function Ft(t,n){const e=(o,a)=>{n.valueAccessor.writeValue(o),a&&n.viewToModelUpdate(o)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function St(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ye(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function wt(t,n){if(n.valueAccessor.setDisabledState){const e=o=>{n.valueAccessor.setDisabledState(o)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Ee(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Se(t,n){const e=function D(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(O(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const o=function N(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(O(o,n.asyncValidator)):"function"==typeof o&&t.setAsyncValidators([o]);const a=()=>t.updateValueAndValidity();Ee(n._rawValidators,a),Ee(n._rawAsyncValidators,a)}function Ye(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Lt={provide:z,useExisting:(0,r.forwardRef)(()=>Me)},fe=(()=>Promise.resolve())();let Me=(()=>{class t extends z{constructor(e,o,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._directives=new Set,this.ngSubmit=new r.EventEmitter,this.form=new Ie({},h(e),m(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){fe.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),me(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){fe.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){fe.then(()=>{const o=this._findContainer(e.path),a=new Ie({});(function Je(t,n){Se(t,n)})(a,e),o.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){fe.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){fe.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function Xe(t,n){t._syncPendingControls(),n.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(o){return new(o||t)(r.\u0275\u0275directiveInject(S,10),r.\u0275\u0275directiveInject(R,10),r.\u0275\u0275directiveInject(ue,8))};static#t=this.\u0275dir=r.\u0275\u0275defineDirective({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,a){1&o&&r.\u0275\u0275listener("submit",function($){return a.onSubmit($)})("reset",function(){return a.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.\u0275\u0275ProvidersFeature([Lt]),r.\u0275\u0275InheritDefinitionFeature]})}return t})();function Qe(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function qe(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const et=class extends Ze{constructor(n=null,e,o){super(xe(e),we(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ge(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=qe(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Qe(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Qe(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){qe(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Wt={provide:ee,useExisting:(0,r.forwardRef)(()=>Ue)},rt=(()=>Promise.resolve())();let Ue=(()=>{class t extends ee{constructor(e,o,a,F,$,oe){super(),this._changeDetectorRef=$,this.callSetDisabledState=oe,this.control=new et,this._registered=!1,this.name="",this.update=new r.EventEmitter,this._parent=e,this._setValidators(o),this._setAsyncValidators(a),this.valueAccessor=function Re(t,n){if(!n)return null;let e,o,a;return Array.isArray(n),n.forEach(F=>{F.constructor===u?e=F:function Ut(t){return Object.getPrototypeOf(t.constructor)===y}(F)?o=F:a=F}),a||o||e||null}(0,F)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Te(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){me(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){rt.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,a=0!==o&&(0,r.booleanAttribute)(o);rt.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function ye(t,n){return[...n.path,t]}(e,this._parent):[e]}static#e=this.\u0275fac=function(o){return new(o||t)(r.\u0275\u0275directiveInject(z,9),r.\u0275\u0275directiveInject(S,10),r.\u0275\u0275directiveInject(R,10),r.\u0275\u0275directiveInject(A,10),r.\u0275\u0275directiveInject(r.ChangeDetectorRef,8),r.\u0275\u0275directiveInject(ue,8))};static#t=this.\u0275dir=r.\u0275\u0275defineDirective({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.\u0275\u0275ProvidersFeature([Wt]),r.\u0275\u0275InheritDefinitionFeature,r.\u0275\u0275NgOnChangesFeature]})}return t})(),ot=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275dir=r.\u0275\u0275defineDirective({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),st=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=r.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=r.\u0275\u0275defineInjector({})}return t})(),hn=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=r.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=r.\u0275\u0275defineInjector({imports:[st]})}return t})(),fn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ue,useValue:e.callSetDisabledState??ve}]}}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=r.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=r.\u0275\u0275defineInjector({imports:[hn]})}return t})()},7582:(j,E,s)=>{function C(d,h,_,m){return new(_||(_=Promise))(function(D,N){function Z(Q){try{W(m.next(Q))}catch(q){N(q)}}function te(Q){try{W(m.throw(Q))}catch(q){N(q)}}function W(Q){Q.done?D(Q.value):function O(D){return D instanceof _?D:new _(function(N){N(D)})}(Q.value).then(Z,te)}W((m=m.apply(d,h||[])).next())})}function x(d){return this instanceof x?(this.v=d,this):new x(d)}function P(d,h,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,m=_.apply(d,h||[]),D=[];return O={},N("next"),N("throw"),N("return"),O[Symbol.asyncIterator]=function(){return this},O;function N(z){m[z]&&(O[z]=function(ee){return new Promise(function(ne,re){D.push([z,ee,ne,re])>1||Z(z,ee)})})}function Z(z,ee){try{!function te(z){z.value instanceof x?Promise.resolve(z.value.v).then(W,Q):q(D[0][2],z)}(m[z](ee))}catch(ne){q(D[0][3],ne)}}function W(z){Z("next",z)}function Q(z){Z("throw",z)}function q(z,ee){z(ee),D.shift(),D.length&&Z(D[0][0],D[0][1])}}function J(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,h=d[Symbol.asyncIterator];return h?h.call(d):(d=function k(d){var h="function"==typeof Symbol&&Symbol.iterator,_=h&&d[h],m=0;if(_)return _.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&m>=d.length&&(d=void 0),{value:d&&d[m++],done:!d}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),_={},m("next"),m("throw"),m("return"),_[Symbol.asyncIterator]=function(){return this},_);function m(D){_[D]=d[D]&&function(N){return new Promise(function(Z,te){!function O(D,N,Z,te){Promise.resolve(te).then(function(W){D({value:W,done:Z})},N)}(Z,te,(N=d[D](N)).done,N.value)})}}}s.d(E,{FC:()=>P,KL:()=>J,mG:()=>C,qq:()=>x}),"function"==typeof SuppressedError&&SuppressedError}}]);