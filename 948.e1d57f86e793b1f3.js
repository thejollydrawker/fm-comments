(self.webpackChunkfmComments=self.webpackChunkfmComments||[]).push([[948],{8948:(G,O,c)=>{c.r(O);var l=c(6593),g=c(9863),E=c(206);const b={providers:[(0,g.provideRouter)([]),(0,E.provideHttpClient)()]};var V=c(2691),t=c(5559),H=c(7715),P=c(5592),S=c(7453),y=c(4829),A=c(4564),K=c(8251),x=c(7400),k=c(2714),Z=c(7398);let te=(()=>{class n{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.ElementRef))};static#t=this.\u0275dir=t.\u0275\u0275defineDirective({type:n})}return n})(),ne=(()=>{class n extends te{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.\u0275\u0275getInheritedFactory(n)))(i||n)}})();static#t=this.\u0275dir=t.\u0275\u0275defineDirective({type:n,features:[t.\u0275\u0275InheritDefinitionFeature]})}return n})();const se=new t.InjectionToken("NgValueAccessor"),L={provide:se,useExisting:(0,t.forwardRef)(()=>N),multi:!0},R=new t.InjectionToken("CompositionEventMode");let N=(()=>{class n extends te{constructor(e,o,i){super(e,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function re(){const n=(0,V.\u0275getDOM)()?(0,V.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(R,8))};static#t=this.\u0275dir=t.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,i){1&o&&t.\u0275\u0275listener("input",function(T){return i._handleInput(T.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(T){return i._compositionEnd(T.target.value)})},features:[t.\u0275\u0275ProvidersFeature([L]),t.\u0275\u0275InheritDefinitionFeature]})}return n})();const Q=new t.InjectionToken("NgValidators"),de=new t.InjectionToken("NgAsyncValidators");function B(n){return null!=n}function W(n){return(0,t.\u0275isPromise)(n)?(0,H.D)(n):n}function le(n){let r={};return n.forEach(e=>{r=null!=e?{...r,...e}:r}),0===Object.keys(r).length?null:r}function j(n,r){return r.map(e=>e(n))}function ae(n){return n.map(r=>function ee(n){return!n.validate}(r)?r:e=>r.validate(e))}function he(n){return null!=n?function oe(n){if(!n)return null;const r=n.filter(B);return 0==r.length?null:function(e){return le(j(e,r))}}(ae(n)):null}function fe(n){return null!=n?function me(n){if(!n)return null;const r=n.filter(B);return 0==r.length?null:function(e){return function ie(...n){const r=(0,A.jO)(n),{args:e,keys:o}=(0,S.D)(n),i=new P.y(v=>{const{length:T}=e;if(!T)return void v.complete();const $=new Array(T);let X=T,ge=T;for(let Xe=0;Xe<T;Xe++){let ht=!1;(0,y.Xf)(e[Xe]).subscribe((0,K.x)(v,br=>{ht||(ht=!0,ge--),$[Xe]=br},()=>X--,void 0,()=>{(!X||!ht)&&(ge||v.next(o?(0,k.n)(o,$):$),v.complete())}))}});return r?i.pipe((0,x.Z)(r)):i}(j(e,r).map(W)).pipe((0,Z.U)(le))}}(ae(n)):null}function _e(n,r){return null===n?[r]:Array.isArray(n)?[...n,r]:[n,r]}function Te(n){return n?Array.isArray(n)?n:[n]:[]}function De(n,r){return Array.isArray(n)?n.includes(r):n===r}function Pe(n,r){const e=Te(r);return Te(n).forEach(i=>{De(e,i)||e.push(i)}),e}function ye(n,r){return Te(r).filter(e=>!De(n,e))}class Be{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=he(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=fe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r=void 0){this.control&&this.control.reset(r)}hasError(r,e){return!!this.control&&this.control.hasError(r,e)}getError(r,e){return this.control?this.control.getError(r,e):null}}class ce extends Be{get formDirective(){return null}get path(){return null}}class pe extends Be{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ie{constructor(r){this._cd=r}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let je=(()=>{class n extends Ie{constructor(e){super(e)}static#e=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(pe,2))};static#t=this.\u0275dir=t.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,i){2&o&&t.\u0275\u0275classProp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[t.\u0275\u0275InheritDefinitionFeature]})}return n})(),ke=(()=>{class n extends Ie{constructor(e){super(e)}static#e=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(ce,10))};static#t=this.\u0275dir=t.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,i){2&o&&t.\u0275\u0275classProp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[t.\u0275\u0275InheritDefinitionFeature]})}return n})();const f="VALID",u="INVALID",s="PENDING",a="DISABLED";function _(n){return(Y(n)?n.validators:n)||null}function U(n,r){return(Y(r)?r.asyncValidators:n)||null}function Y(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class be{constructor(r,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(r),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===f}get invalid(){return this.status===u}get pending(){return this.status==s}get disabled(){return this.status===a}get enabled(){return this.status!==a}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._assignValidators(r)}setAsyncValidators(r){this._assignAsyncValidators(r)}addValidators(r){this.setValidators(Pe(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Pe(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(ye(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(ye(r,this._rawAsyncValidators))}hasValidator(r){return De(this._rawValidators,r)}hasAsyncValidator(r){return De(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=s,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=a,this.errors=null,this._forEachChild(o=>{o.disable({...r,onlySelf:!0})}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...r,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=f,this._forEachChild(o=>{o.enable({...r,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors({...r,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===f||this.status===s)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?a:f}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=s,this._hasOwnPendingAsyncValidator=!0;const e=W(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){let e=r;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,i)=>o&&o._find(i),this)}getError(r,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new t.EventEmitter,this.statusChanges=new t.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?a:this.errors?u:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(s)?s:this._anyControlsHaveStatus(u)?u:f}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){Y(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(r){return null}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=function F(n){return Array.isArray(n)?he(n):n||null}(this._rawValidators)}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=function q(n){return Array.isArray(n)?fe(n):n||null}(this._rawAsyncValidators)}}class et extends be{constructor(r,e,o){super(_(e),U(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,o={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){(function Ce(n,r,e){n._forEachChild((o,i)=>{if(void 0===e[i])throw new t.\u0275RuntimeError(1002,"")})})(this,0,r),Object.keys(r).forEach(o=>{(function ue(n,r,e){const o=n.controls;if(!(r?Object.keys(o):o).length)throw new t.\u0275RuntimeError(1e3,"");if(!o[e])throw new t.\u0275RuntimeError(1001,"")})(this,!0,o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(o=>{const i=this.controls[o];i&&i.patchValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((o,i)=>{o.reset(r?r[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,o)=>(r[o]=e.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&r(o,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const[e,o]of Object.entries(this.controls))if(this.contains(e)&&r(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,o,i)=>((o.enabled||this.disabled)&&(e[i]=o.value),e))}_reduceChildren(r,e){let o=r;return this._forEachChild((i,v)=>{o=e(o,i,v)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(r){return this.controls.hasOwnProperty(r)?this.controls[r]:null}}const xe=new t.InjectionToken("CallSetDisabledState",{providedIn:"root",factory:()=>Ge}),Ge="always";function Re(n,r,e=Ge){tt(n,r),r.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&r.valueAccessor.setDisabledState?.(n.disabled),function cn(n,r){r.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_t(n,r)})}(n,r),function dn(n,r){const e=(o,i)=>{r.valueAccessor.writeValue(o),i&&r.viewToModelUpdate(o)};n.registerOnChange(e),r._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,r),function un(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_t(n,r),"submit"!==n.updateOn&&n.markAsTouched()})}(n,r),function ln(n,r){if(r.valueAccessor.setDisabledState){const e=o=>{r.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(e),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,r)}function We(n,r){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function tt(n,r){const e=function ve(n){return n._rawValidators}(n);null!==r.validator?n.setValidators(_e(e,r.validator)):"function"==typeof e&&n.setValidators([e]);const o=function Je(n){return n._rawAsyncValidators}(n);null!==r.asyncValidator?n.setAsyncValidators(_e(o,r.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const i=()=>n.updateValueAndValidity();We(r._rawValidators,i),We(r._rawAsyncValidators,i)}function _t(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const gn={provide:ce,useExisting:(0,t.forwardRef)(()=>Ze)},Ne=(()=>Promise.resolve())();let Ze=(()=>{class n extends ce{constructor(e,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new t.EventEmitter,this.form=new et({},he(e),fe(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ne.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),Re(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ne.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ne.then(()=>{const o=this._findContainer(e.path),i=new et({});(function yt(n,r){tt(n,r)})(i,e),o.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ne.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){Ne.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function vt(n,r){n._syncPendingControls(),r.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(Q,10),t.\u0275\u0275directiveInject(de,10),t.\u0275\u0275directiveInject(xe,8))};static#t=this.\u0275dir=t.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,i){1&o&&t.\u0275\u0275listener("submit",function(T){return i.onSubmit(T)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.\u0275\u0275ProvidersFeature([gn]),t.\u0275\u0275InheritDefinitionFeature]})}return n})();function Ct(n,r){const e=n.indexOf(r);e>-1&&n.splice(e,1)}function bt(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Et=class extends be{constructor(r=null,e,o){super(_(e),U(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Y(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=bt(r)?r.value:r)}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=this.defaultValue,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Ct(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Ct(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){bt(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}},vn={provide:pe,useExisting:(0,t.forwardRef)(()=>Ye)},wt=(()=>Promise.resolve())();let Ye=(()=>{class n extends pe{constructor(e,o,i,v,T,$){super(),this._changeDetectorRef=T,this.callSetDisabledState=$,this.control=new Et,this._registered=!1,this.name="",this.update=new t.EventEmitter,this._parent=e,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function ot(n,r){if(!r)return null;let e,o,i;return Array.isArray(r),r.forEach(v=>{v.constructor===N?e=v:function fn(n){return Object.getPrototypeOf(n.constructor)===ne}(v)?o=v:i=v}),i||o||e||null}(0,v)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function rt(n,r){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Re(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){wt.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,i=0!==o&&(0,t.booleanAttribute)(o);wt.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function ze(n,r){return[...r.path,n]}(e,this._parent):[e]}static#e=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(ce,9),t.\u0275\u0275directiveInject(Q,10),t.\u0275\u0275directiveInject(de,10),t.\u0275\u0275directiveInject(se,10),t.\u0275\u0275directiveInject(t.ChangeDetectorRef,8),t.\u0275\u0275directiveInject(xe,8))};static#t=this.\u0275dir=t.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t.\u0275\u0275ProvidersFeature([vn]),t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature]})}return n})(),Ot=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=t.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),At=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=t.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({})}return n})(),Gn=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=t.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[At]})}return n})(),Wt=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:xe,useValue:e.callSetDisabledState??Ge}]}}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=t.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[Gn]})}return n})();var Ue=c(8645),Kt=c(9397),$n=c(2096),Oe=c(7146);let dt=(()=>{class n{constructor(e){this.http=e,this.commentsSrc$=this.getComments(),this.userSrc$=this.getUser(),this.add$=new Ue.x,this.reply$=new Ue.x,this.edit$=new Ue.x,this.remove$=new Ue.x,this.score$=new Ue.x,this.state=(0,t.signal)({comments:[],currentUser:null}),this.user=(0,t.computed)(()=>this.state().currentUser),this.comments=(0,t.computed)(()=>this.state().comments),this.initReducers()}saveToSession({comments:e}){sessionStorage.setItem("comments",JSON.stringify(e))}getFromSession(){return JSON.parse(sessionStorage.getItem("comments")||"[]")}initReducers(){this.commentsSrc$.pipe((0,Oe.takeUntilDestroyed)(),(0,Kt.b)(e=>this.saveToSession({...this.state(),comments:e}))).subscribe(e=>{this.state.update(o=>({...o,comments:e}))}),this.userSrc$.pipe((0,Oe.takeUntilDestroyed)()).subscribe(e=>{this.state.update(o=>({...o,currentUser:e}))}),this.add$.pipe((0,Oe.takeUntilDestroyed)()).subscribe(e=>{this.state.update(o=>this.handleAddEvent(o,e,this.saveToSession))}),this.reply$.pipe((0,Oe.takeUntilDestroyed)()).subscribe(e=>{this.state.update(o=>this.handleReplyEvent(o,e,this.saveToSession))}),this.edit$.pipe((0,Oe.takeUntilDestroyed)()).subscribe(e=>{this.state.update(o=>this.editEventHandler(o,e,this.saveToSession))}),this.remove$.pipe((0,Oe.takeUntilDestroyed)()).subscribe(e=>{this.state.update(o=>this.deleteEventHandler(o,e,this.saveToSession))}),this.score$.pipe((0,Oe.takeUntilDestroyed)()).subscribe(e=>{this.state.update(o=>this.scoreEventHandler(o,e,this.saveToSession))})}getComments(){return 0===this.getFromSession().length?this.http.get("/assets/data/data.json").pipe((0,Z.U)(e=>e.comments),(0,Kt.b)(e=>{this.saveToSession({...this.state(),comments:e})})):(0,$n.of)(this.getFromSession())}getUser(){return this.http.get("/assets/data/data.json").pipe((0,Z.U)(e=>e.currentUser))}newComment(e){return{id:Date.now(),content:e,createdAt:this.getToday(),score:0,user:this.user(),replies:[]}}handleAddEvent(e,o,i){const v=this.newComment(o),T={...e,comments:[...e.comments,v]};return i(T),T}deleteEventHandler(e,o,i){let v=[...this.comments()];if(o.repliesTo?.id===o.comment.id){const $=v.findIndex(X=>X.id==o.comment.id);-1!==$&&v.splice($,1)}else{const $=v.find(X=>X.id===o.repliesTo?.id);if($){const X=$.replies.findIndex(ge=>ge.id===o.comment.id);-1!==X&&$.replies.splice(X,1)}}const T={...e,comments:v};return i(T),T}handleReplyEvent(e,o,i){const v=this.newComment(o.content);v.replyingTo=o.repliesToUser;const T=e.comments.findIndex(ge=>ge.id===o.repliesTo.id);if(-1===T)return{...e};const $=[...e.comments];$[T].replies.push(v);const X={...e,comments:$};return i(X),X}editEventHandler(e,o,i){let v=[...this.comments()];if(o.repliesTo.id===o.comment.id){const $=v.findIndex(X=>X.id==o.comment.id);-1!==$&&(v[$].content=o.text)}else{const $=v.find(X=>X.id===o.repliesTo.id);if($){const X=$.replies.findIndex(ge=>ge.id===o.comment.id);-1!==X&&($.replies[X].content=o.text)}}const T={...e,comments:v};return i(T),T}scoreEventHandler(e,o,i){const T={...e,comments:[...this.comments()].map($=>($.id===o.comment.id?$=this.score($,o):$.replies.find(X=>X.id===o.comment.id)&&$.replies.map(X=>(X.id===o.comment.id&&(X=this.score(X,o)),X)),$))};return i(T),T}score(e,o){return!e.scoredBy?.find(i=>i.username===this.user()?.username)&&e.user.username!==this.user()?.username&&(o.upvote?e.score+=1:e.score>0&&(e.score-=1),e.scoredBy?e.scoredBy.push(this.user()):e.scoredBy=[this.user()]),e}getToday(){const e=new Date;return`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`}static#e=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275inject(E.HttpClient))};static#t=this.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wn(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"textarea",5),t.\u0275\u0275listener("ngModelChange",function(i){t.\u0275\u0275restoreView(e);const v=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(v.content=i)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"button",6),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.postComment())}),t.\u0275\u0275text(3," Send "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngModel",e.content)}}function Kn(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275element(1,"img",3),t.\u0275\u0275template(2,Wn,4,1,"ng-container",4),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),o=t.\u0275\u0275reference(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("src","assets/images/"+e.user().image.png,t.\u0275\u0275sanitizeUrl)("alt",e.user().username),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.isReply)("ngIfElse",o)}}function Zn(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"textarea",7),t.\u0275\u0275listener("ngModelChange",function(i){t.\u0275\u0275restoreView(e);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.content=i)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"button",6),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.reply())}),t.\u0275\u0275text(2," Reply "),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngModel",e.content)}}let Zt=(()=>{class n{constructor(e){this.commentSrv=e,this.isReply=!1,this.replyEvent=new t.EventEmitter,this.user=this.commentSrv.user,this.content=""}postComment(){this.content.length>0&&(this.commentSrv.add$.next(this.content),this.content="")}reply(){this.content.length>0&&this.comment&&(this.commentSrv.reply$.next({content:this.content,repliesTo:this.comment,repliesToUser:this.repliesTo}),this.content="",this.replyEvent.emit())}static#e=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(dt))};static#t=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-add-comment"]],inputs:{comment:"comment",repliesTo:"repliesTo",isReply:"isReply"},outputs:{replyEvent:"replyEvent"},standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:3,vars:1,consts:[["class","comment reply-box "],["replyTemp",""],[1,"comment","reply-box"],[1,"comment-header_img",3,"src","alt"],[4,"ngIf","ngIfElse"],["spellcheck","true","name","","id","","cols","120","rows","8","placeholder","Add a comment...",1,"comment-text",3,"ngModel","ngModelChange"],[1,"send_btn",3,"click"],["spellcheck","true","name","reply","cols","120","rows","8",1,"comment-text",3,"ngModel","ngModelChange"]],template:function(o,i){1&o&&t.\u0275\u0275template(0,Kn,3,4,"div",0)(1,Zn,3,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),2&o&&t.\u0275\u0275conditional(0,i.user()?0:-1)},dependencies:[Wt,N,je,Ye,V.NgIf],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;font-family:Rubik,sans-serif}*[class*=_btn][_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 768px){.app-main[_ngcontent-%COMP%]{padding:5rem}}.comment[_ngcontent-%COMP%]{box-shadow:7px 5px 5px #d3d3d3;padding:1.5rem;border-radius:10px;display:flex;flex-direction:column;gap:2rem;position:relative;background-color:#fff;margin:.25rem 0rem}.comment-header_img[_ngcontent-%COMP%]{width:3rem;height:3rem;order:2}.comment-text[_ngcontent-%COMP%]{border-radius:8px;border-color:#324152;color:gray;font-size:16px;padding:1rem;box-sizing:border-box}.reply-box[_ngcontent-%COMP%]{margin:1rem 0;box-sizing:content-box;animation:_ngcontent-%COMP%_slideInRight .3s ease-in}.send_btn[_ngcontent-%COMP%]{height:-moz-fit-content;border:none;background:none;height:fit-content;padding:1rem 1.75rem;border-radius:6px;text-transform:uppercase;font-weight:700;font-size:16px;background-color:#5457b6;color:#fff;position:absolute;bottom:10%;right:5%}.send_btn[_ngcontent-%COMP%]:hover{background-color:#c3c4ef}@media (min-width: 768px){.comment[_ngcontent-%COMP%]{flex-direction:row}.comment-text[_ngcontent-%COMP%]{order:2}.comment-header_img[_ngcontent-%COMP%]{order:1}.send_btn[_ngcontent-%COMP%]{position:relative;bottom:0;right:0;order:3}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(20%);opacity:0}to{transform:translate(0);opacity:1}}"]})}return n})(),Yn=(()=>{class n{transform(e){if(!/^\d{1,2}\/\d{1,2}\/\d{2,4}$/.test(e))return e;const i=this.getDifference(e);return i>2?i>7?i>30?`${Math.floor(i/30)} months ago`:`${Math.floor(i/7)} weeks ago`:`${i} days ago`:"Now"}getDifference(e){const o=new Date,i=new Date(e),v=Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()),T=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate());return Math.floor((v-T)/864e5)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275pipe=t.\u0275\u0275definePipe({name:"formatDate",type:n,pure:!0,standalone:!0})}return n})(),Yt=(()=>{class n{constructor(){this.initialModal={title:"",body:"",showButtons:!0,cancelAction:()=>{},applyAction:()=>{},cancelBtnText:"",applyBtnText:""},this._isOpen=(0,t.signal)(!1),this.isOpen=(0,t.computed)(()=>this._isOpen()),this._modalContent=(0,t.signal)(this.initialModal),this.modal=(0,t.computed)(()=>this._modalContent())}open(e){this._isOpen.set(!0),this._modalContent.set(e)}close(){this._isOpen.set(!1),this._modalContent.set(this.initialModal)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xn(n,r){1&n&&t.\u0275\u0275elementContainer(0)}const Jn=(n,r)=>r.id;function Qn(n,r){1&n&&t.\u0275\u0275elementContainer(0)}const qn=n=>({comment:n,isReply:!0});function er(n,r){if(1&n&&t.\u0275\u0275template(0,Qn,1,0,"ng-container",0),2&n){const e=r.$implicit;t.\u0275\u0275nextContext(2);const o=t.\u0275\u0275reference(3);t.\u0275\u0275property("ngTemplateOutlet",o)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,qn,e))}}function tr(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"section",3),t.\u0275\u0275repeaterCreate(1,er,1,4,"ng-container",null,Jn),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275repeater(e.comment.replies)}}function nr(n,r){1&n&&(t.\u0275\u0275elementStart(0,"span",21),t.\u0275\u0275text(1," you "),t.\u0275\u0275elementEnd())}function rr(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"textarea",22),t.\u0275\u0275listener("ngModelChange",function(i){t.\u0275\u0275restoreView(e);const v=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(v.updateContent=i)}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"button",23),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().comment,v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.updateComment(i))}),t.\u0275\u0275text(3," Update "),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngModel",e.updateContent),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.comment.content)}}function or(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"span",25),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).comment;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" @",e.replyingTo," ")}}function ir(n,r){if(1&n&&(t.\u0275\u0275template(0,or,2,1,"span",24),t.\u0275\u0275text(1)),2&n){const e=t.\u0275\u0275nextContext(),i=e.comment;t.\u0275\u0275conditional(0,e.isReply?0:-1),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",i.content," ")}}function sr(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275namespaceSVG(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(0,"div",26)(1,"button",27),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().comment,v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.openReply=i.id)}),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",28),t.\u0275\u0275element(3,"path",29),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4," Reply "),t.\u0275\u0275elementEnd()()}}function ar(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275namespaceSVG(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(0,"div",26)(1,"button",30),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().comment,v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.openModal(i))}),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",31),t.\u0275\u0275element(3,"path",32),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(4," Delete "),t.\u0275\u0275elementEnd(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(5,"button",33),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().comment,v=t.\u0275\u0275nextContext();return v.editComment=i.id,t.\u0275\u0275resetView(v.updateContent=i.content)}),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(6,"svg",34),t.\u0275\u0275element(7,"path",35),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(8," Edit "),t.\u0275\u0275elementEnd()()}}function lr(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275namespaceSVG(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(0,"form",36)(1,"app-add-comment",37),t.\u0275\u0275listener("replyEvent",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.openReply=0)}),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext().comment,o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("isReply",!0)("comment",o.comment)("repliesTo",null==e.user?null:e.user.username)}}const cr=n=>({"has-scored":n});function ur(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"article",4)(1,"div",5)(2,"div",6),t.\u0275\u0275element(3,"img",7),t.\u0275\u0275elementStart(4,"h2",8),t.\u0275\u0275text(5),t.\u0275\u0275template(6,nr,2,0,"span",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"span",10),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"formatDate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",11),t.\u0275\u0275template(11,rr,4,2)(12,ir,2,2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"div",12)(14,"button",13),t.\u0275\u0275listener("click",function(){const v=t.\u0275\u0275restoreView(e).comment,T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.score(v))}),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(15,"svg",14),t.\u0275\u0275element(16,"path",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(17,"span",16),t.\u0275\u0275text(18),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(19,"button",13),t.\u0275\u0275listener("click",function(){const v=t.\u0275\u0275restoreView(e).comment,T=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(T.unscore(v))}),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(20,"svg",17),t.\u0275\u0275element(21,"path",18),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(22,sr,5,0,"div",19)(23,ar,9,0),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(24,lr,2,3,"form",20)}if(2&n){const e=r.comment,o=t.\u0275\u0275nextContext();let i,v;t.\u0275\u0275advance(3),t.\u0275\u0275property("src","assets/images/"+e.user.image.png,t.\u0275\u0275sanitizeUrl)("alt",o.comment.user.username),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.user.username," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.user.username===(null==(i=o.currentUser())?null:i.username)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,12,e.createdAt)," "),t.\u0275\u0275advance(3),t.\u0275\u0275conditional(11,o.editComment===e.id?11:12),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",o.scoredByUser(e)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,cr,o.scoredByUser(e))),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.score," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",o.scoredByUser(e)),t.\u0275\u0275advance(3),t.\u0275\u0275conditional(22,(null==(v=o.currentUser())?null:v.username)!==e.user.username?22:23),t.\u0275\u0275advance(2),t.\u0275\u0275conditional(24,o.openReply===e.id?24:-1)}}const dr=n=>({comment:n,isReply:!1});let hr=(()=>{class n{constructor(e,o){this.commentSrv=e,this.modalSrv=o,this.openReply=0,this.editComment=0,this.updateContent="",this.currentUser=this.commentSrv.user}score(e){e.user.username!==this.currentUser()?.username?this.commentSrv.score$.next({comment:e,upvote:!0}):this.modalSrv.open({title:"Error",body:"You can't score your own comment.",showButtons:!1,applyAction:()=>{},cancelAction:()=>{},showClose:!0})}unscore(e){this.commentSrv.score$.next({comment:e,upvote:!1})}deleteComment(e){this.commentSrv.remove$.next({comment:e,repliesTo:this.comment})}updateComment(e){e.content&&(this.commentSrv.edit$.next({comment:e,text:this.updateContent,repliesTo:this.comment}),this.editComment=0,this.updateContent="")}openModal(e){this.modalSrv.open({title:"Delete comment",body:"Are you sure yoy want to delete this comment? This will remove the comment and can't be undone.",showButtons:!0,applyAction:()=>{this.deleteComment(e),this.modalSrv.close()},cancelAction:()=>this.modalSrv.close(),cancelBtnText:"No, cancel",applyBtnText:"Yes, delete",showClose:!1})}scoredByUser(e){return void 0!==e.scoredBy?.find(o=>o.username===this.currentUser()?.username)}static#e=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(dt),t.\u0275\u0275directiveInject(Yt))};static#t=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-comment"]],inputs:{comment:"comment"},standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:4,vars:5,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","replies"],["commentContent",""],[1,"replies"],[1,"comment"],[1,"comment-content"],[1,"comment-header"],[1,"comment-header_img",3,"src","alt"],[1,"comment-header_username"],["class","comment-header_you-tag",4,"ngIf"],[1,"comment-header_created-at"],[1,"comment-body"],[1,"comment-score"],[1,"comment-score_btn",3,"disabled","click"],["width","11","height","11","xmlns","http://www.w3.org/2000/svg"],["d","M6.33 10.896c.137 0 .255-.05.354-.149.1-.1.149-.217.149-.354V7.004h3.315c.136 0 .254-.05.354-.149.099-.1.148-.217.148-.354V5.272a.483.483 0 0 0-.148-.354.483.483 0 0 0-.354-.149H6.833V1.4a.483.483 0 0 0-.149-.354.483.483 0 0 0-.354-.149H4.915a.483.483 0 0 0-.354.149c-.1.1-.149.217-.149.354v3.37H1.08a.483.483 0 0 0-.354.15c-.1.099-.149.217-.149.353v1.23c0 .136.05.254.149.353.1.1.217.149.354.149h3.333v3.39c0 .136.05.254.15.353.098.1.216.149.353.149H6.33Z","fill","currentColor"],[3,"ngClass"],["width","11","height","3","xmlns","http://www.w3.org/2000/svg"],["d","M9.256 2.66c.204 0 .38-.056.53-.167.148-.11.222-.243.222-.396V.722c0-.152-.074-.284-.223-.395a.859.859 0 0 0-.53-.167H.76a.859.859 0 0 0-.53.167C.083.437.009.57.009.722v1.375c0 .153.074.285.223.396a.859.859 0 0 0 .53.167h8.495Z","fill","currentColor"],["class","comment-reply"],["class","reply-box"],[1,"comment-header_you-tag"],["spellcheck","true","rows","8",1,"comment-text",3,"ngModel","ngModelChange"],[1,"update_btn",3,"click"],["class","comment-body_mention-tag"],[1,"comment-body_mention-tag"],[1,"comment-reply"],[1,"comment-reply_btn",3,"click"],["width","14","height","13","xmlns","http://www.w3.org/2000/svg"],["d","M.227 4.316 5.04.16a.657.657 0 0 1 1.085.497v2.189c4.392.05 7.875.93 7.875 5.093 0 1.68-1.082 3.344-2.279 4.214-.373.272-.905-.07-.767-.51 1.24-3.964-.588-5.017-4.829-5.078v2.404c0 .566-.664.86-1.085.496L.227 5.31a.657.657 0 0 1 0-.993Z","fill","currentColor"],[1,"comment-delete_btn",3,"click"],["width","12","height","14","xmlns","http://www.w3.org/2000/svg"],["d","M1.167 12.448c0 .854.7 1.552 1.555 1.552h6.222c.856 0 1.556-.698 1.556-1.552V3.5H1.167v8.948Zm10.5-11.281H8.75L7.773 0h-3.88l-.976 1.167H0v1.166h11.667V1.167Z","fill","currentColor"],[1,"comment-edit_btn",3,"click"],["width","14","height","14","xmlns","http://www.w3.org/2000/svg"],["d","M13.479 2.872 11.08.474a1.75 1.75 0 0 0-2.327-.06L.879 8.287a1.75 1.75 0 0 0-.5 1.06l-.375 3.648a.875.875 0 0 0 .875.954h.078l3.65-.333c.399-.04.773-.216 1.058-.499l7.875-7.875a1.68 1.68 0 0 0-.061-2.371Zm-2.975 2.923L8.159 3.449 9.865 1.7l2.389 2.39-1.75 1.706Z","fill","currentColor"],[1,"reply-box"],[3,"isReply","comment","repliesTo","replyEvent"]],template:function(o,i){if(1&o&&t.\u0275\u0275template(0,Xn,1,0,"ng-container",0)(1,tr,3,0,"section",1)(2,ur,25,16,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),2&o){const v=t.\u0275\u0275reference(3);t.\u0275\u0275property("ngTemplateOutlet",v)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(3,dr,i.comment)),t.\u0275\u0275advance(1),t.\u0275\u0275conditional(1,i.comment.replies.length>0?1:-1)}},dependencies:[V.NgTemplateOutlet,V.NgIf,V.NgClass,Zt,Wt,Ot,N,je,ke,Ye,Ze,Yn],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;font-family:Rubik,sans-serif}*[class*=_btn][_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 768px){.app-main[_ngcontent-%COMP%]{padding:5rem}}.comment[_ngcontent-%COMP%]{box-shadow:7px 5px 5px #d3d3d3;padding:1.5rem;border-radius:10px;display:flex;flex-direction:column;gap:2rem;position:relative;background-color:#fff;margin:.25rem 0rem}.comment-content[_ngcontent-%COMP%]{font-size:16px;color:gray;width:100%}.comment-body[_ngcontent-%COMP%]{padding-bottom:2rem;position:relative}.comment-body[_ngcontent-%COMP%]   .update_btn[_ngcontent-%COMP%]{height:-moz-fit-content;border:none;background:none;height:fit-content;padding:1rem 1.75rem;border-radius:6px;text-transform:uppercase;font-weight:700;font-size:16px;background-color:#5457b6;color:#fff;position:absolute;right:0%;bottom:5%}.comment-body[_ngcontent-%COMP%]   .update_btn[_ngcontent-%COMP%]:hover{background-color:#c3c4ef}.comment-body_mention-tag[_ngcontent-%COMP%]{color:#5457b6;font-weight:500}.comment-text[_ngcontent-%COMP%]{border-radius:8px;border-color:#324152;color:gray;font-size:16px;width:100%;padding:1rem;margin-bottom:3rem;box-sizing:border-box}.comment-reply[_ngcontent-%COMP%]{position:absolute;bottom:10%;right:5%;display:flex;gap:.75rem;height:-moz-fit-content;height:fit-content}.comment-reply_btn[_ngcontent-%COMP%]{border:none;background:none;font-size:16px;color:#5457b6;font-weight:500;display:flex;gap:.4rem;align-items:center}.comment-reply_btn[_ngcontent-%COMP%]:hover, .comment-reply_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{color:#c3c4ef}.comment-reply[_ngcontent-%COMP%]   .comment-edit_btn[_ngcontent-%COMP%]{border:none;background:none;font-size:16px;color:#5457b6}.comment-reply[_ngcontent-%COMP%]   .comment-edit_btn[_ngcontent-%COMP%]:hover{color:#c3c4ef}.comment-reply[_ngcontent-%COMP%]   .comment-delete_btn[_ngcontent-%COMP%]{border:none;background:none;font-size:16px;color:#ed6468}.comment-reply[_ngcontent-%COMP%]   .comment-delete_btn[_ngcontent-%COMP%]:hover{color:#ffb8bb}.comment-score[_ngcontent-%COMP%]{order:2;display:flex;align-items:center;gap:10px;width:30%;justify-content:space-between;background-color:#f5f6fa;border-radius:10px;padding:8px}.comment-score_btn[_ngcontent-%COMP%]{border:none;background:none;color:gray;font-weight:500;font-size:16px;padding:5px 12px;display:flex;align-items:center}.comment-score_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:ease-in-out .1s}.comment-score_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{transform:scale(1.5)}.comment-score_btn[disabled][_ngcontent-%COMP%]{color:#d3d3d3}.comment-score_btn[disabled][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:none}.comment-score_btn[disabled][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{transform:none}.comment-score[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#5457b6;font-weight:700;font-size:16px}.comment-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-size:16px;color:initial}.comment-header_username[_ngcontent-%COMP%]{font-weight:500;display:flex;align-items:center;gap:.5rem}.comment-header_img[_ngcontent-%COMP%]{width:2rem;height:2rem}.comment-header_created-at[_ngcontent-%COMP%]{color:gray;font-size:16px}.comment-header_you-tag[_ngcontent-%COMP%]{background-color:#5457b6;color:#fff;font-size:12px;padding:.25rem .4rem;border-radius:1px}.replies[_ngcontent-%COMP%]{margin:1rem 0 1rem 1.5rem;padding-left:1.5rem;background:none;border-left:solid hsl(223,19%,93%) 2px;display:flex;flex-direction:column;gap:1.5rem}@media (min-width: 768px){.comment[_ngcontent-%COMP%]{flex-direction:row}.comment-reply[_ngcontent-%COMP%]{position:absolute;top:10%;right:5%}.comment-content[_ngcontent-%COMP%]{order:2}.comment-score[_ngcontent-%COMP%]{order:1;display:flex;flex-direction:column;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.comment-score_btn[_ngcontent-%COMP%]{padding:12px}}article.comment[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .75s ease-in}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}"]})}return n})();const mr=(n,r)=>r.id;function fr(n,r){1&n&&t.\u0275\u0275element(0,"app-comment",1),2&n&&t.\u0275\u0275property("comment",r.$implicit)}function pr(n,r){1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1,"No comments"),t.\u0275\u0275elementEnd())}let gr=(()=>{class n{constructor(e){this.commentsSrv=e,this.comments=this.commentsSrv.comments}static#e=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(dt))};static#t=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-comments-list"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:4,vars:1,consts:[[1,"comments-list"],[3,"comment"]],template:function(o,i){1&o&&(t.\u0275\u0275elementStart(0,"section",0),t.\u0275\u0275repeaterCreate(1,fr,1,1,"app-comment",1,mr,!1,pr,2,0),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275repeater(i.comments()))},dependencies:[V.CommonModule,hr],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;font-family:Rubik,sans-serif}*[class*=_btn][_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 768px){.app-main[_ngcontent-%COMP%]{padding:5rem}}.comments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}"]})}return n})();function _r(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"button",8),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.modal().cancelAction())}),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"button",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.modal().applyAction())}),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.modal().cancelBtnText," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.modal().applyBtnText," ")}}function yr(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",1),t.\u0275\u0275elementStart(2,"div",2)(3,"span",3),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(4,"svg",4),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.close())}),t.\u0275\u0275element(5,"path",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275namespaceHTML(),t.\u0275\u0275elementStart(6,"h2"),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"p"),t.\u0275\u0275text(9),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(10,_r,5,2,"div",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("hidden",!e.modal().showClose),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",e.modal().title," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.modal().body," "),t.\u0275\u0275advance(1),t.\u0275\u0275conditional(10,e.modal().showButtons?10:-1)}}let vr=(()=>{class n{constructor(e){this.modalSrv=e,this.isOpen=this.modalSrv.isOpen,this.modal=this.modalSrv.modal}cancel(){this.modalSrv.close()}apply(){this.modal().applyAction(),this.modalSrv.close()}close(){this.modalSrv.close()}static#e=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(Yt))};static#t=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-modal"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:1,vars:1,consts:[[4,"ngIf"],[1,"overlay"],[1,"modal"],[1,"close-modal",3,"hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"close-modal-icon",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18 18 6M6 6l12 12"],["class","buttons-container"],[1,"buttons-container"],[1,"cancel",3,"click"],[1,"apply",3,"click"]],template:function(o,i){1&o&&t.\u0275\u0275template(0,yr,11,4,"ng-container",0),2&o&&t.\u0275\u0275property("ngIf",!0===i.isOpen())},dependencies:[V.NgIf],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;font-family:Rubik,sans-serif}*[class*=_btn][_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 768px){.app-main[_ngcontent-%COMP%]{padding:5rem}}.modal[_ngcontent-%COMP%]{position:fixed;background-color:#fff;z-index:11;top:30%;left:25%;width:50%;border-radius:5px;padding:1.5rem 2rem;display:flex;flex-direction:column;gap:.75rem;animation:_ngcontent-%COMP%_appear .2s ease-in}.modal[_ngcontent-%COMP%]   .close-modal[_ngcontent-%COMP%]{position:relative}.modal[_ngcontent-%COMP%]   .close-modal-icon[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;right:0;top:5%;color:#324152;cursor:pointer}.modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:0;margin:0}.modal[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:space-between}.modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:85%;color:gray}.modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;height:-moz-fit-content;height:fit-content;padding:1rem 1.75rem;border-radius:6px;text-transform:uppercase;font-weight:700;font-size:16px;color:#fff}.modal[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{background-color:#ed6468}.modal[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffb8bb}.modal[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%]{background-color:#67727e}.modal[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%]:hover{background-color:#eaecf1}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#324152;opacity:.5;z-index:10}@media (min-width: 768px){.modal[_ngcontent-%COMP%]{width:30%;left:35%}}@keyframes _ngcontent-%COMP%_appear{0%{transform:scale(.8)}to{transform:scale(1)}}"]})}return n})();(0,l.Cg)((()=>{class n{constructor(){this.title="fm-comments"}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:4,vars:0,consts:[[1,"app-main"]],template:function(o,i){1&o&&(t.\u0275\u0275elementStart(0,"main",0),t.\u0275\u0275element(1,"app-comments-list")(2,"app-add-comment")(3,"app-modal"),t.\u0275\u0275elementEnd())},dependencies:[V.CommonModule,E.HttpClientModule,gr,Zt,vr],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;font-family:Rubik,sans-serif}*[class*=_btn][_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 768px){.app-main[_ngcontent-%COMP%]{padding:5rem}}"]})}return n})(),b).catch(n=>console.error(n))},5592:(G,O,c)=>{c.d(O,{y:()=>H});var l=c(305),g=c(7394),w=c(4850),E=c(8407),b=c(2653),V=c(4674),t=c(1441);let H=(()=>{class A{constructor(x){x&&(this._subscribe=x)}lift(x){const k=new A;return k.source=this,k.operator=x,k}subscribe(x,k,ie){const Z=function y(A){return A&&A instanceof l.Lv||function S(A){return A&&(0,V.m)(A.next)&&(0,V.m)(A.error)&&(0,V.m)(A.complete)}(A)&&(0,g.Nn)(A)}(x)?x:new l.Hp(x,k,ie);return(0,t.x)(()=>{const{operator:te,source:ne}=this;Z.add(te?te.call(Z,ne):ne?this._subscribe(Z):this._trySubscribe(Z))}),Z}_trySubscribe(x){try{return this._subscribe(x)}catch(k){x.error(k)}}forEach(x,k){return new(k=P(k))((ie,Z)=>{const te=new l.Hp({next:ne=>{try{x(ne)}catch(se){Z(se),te.unsubscribe()}},error:Z,complete:ie});this.subscribe(te)})}_subscribe(x){var k;return null===(k=this.source)||void 0===k?void 0:k.subscribe(x)}[w.L](){return this}pipe(...x){return(0,E.U)(x)(this)}toPromise(x){return new(x=P(x))((k,ie)=>{let Z;this.subscribe(te=>Z=te,te=>ie(te),()=>k(Z))})}}return A.create=K=>new A(K),A})();function P(A){var K;return null!==(K=A??b.config.Promise)&&void 0!==K?K:Promise}},8645:(G,O,c)=>{c.d(O,{x:()=>t});var l=c(5592),g=c(7394);const E=(0,c(2306).d)(P=>function(){P(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var b=c(9039),V=c(1441);let t=(()=>{class P extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(y){const A=new H(this,this);return A.operator=y,A}_throwIfClosed(){if(this.closed)throw new E}next(y){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const A of this.currentObservers)A.next(y)}})}error(y){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=y;const{observers:A}=this;for(;A.length;)A.shift().error(y)}})}complete(){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:y}=this;for(;y.length;)y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var y;return(null===(y=this.observers)||void 0===y?void 0:y.length)>0}_trySubscribe(y){return this._throwIfClosed(),super._trySubscribe(y)}_subscribe(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)}_innerSubscribe(y){const{hasError:A,isStopped:K,observers:x}=this;return A||K?g.Lc:(this.currentObservers=null,x.push(y),new g.w0(()=>{this.currentObservers=null,(0,b.P)(x,y)}))}_checkFinalizedStatuses(y){const{hasError:A,thrownError:K,isStopped:x}=this;A?y.error(K):x&&y.complete()}asObservable(){const y=new l.y;return y.source=this,y}}return P.create=(S,y)=>new H(S,y),P})();class H extends t{constructor(S,y){super(),this.destination=S,this.source=y}next(S){var y,A;null===(A=null===(y=this.destination)||void 0===y?void 0:y.next)||void 0===A||A.call(y,S)}error(S){var y,A;null===(A=null===(y=this.destination)||void 0===y?void 0:y.error)||void 0===A||A.call(y,S)}complete(){var S,y;null===(y=null===(S=this.destination)||void 0===S?void 0:S.complete)||void 0===y||y.call(S)}_subscribe(S){var y,A;return null!==(A=null===(y=this.source)||void 0===y?void 0:y.subscribe(S))&&void 0!==A?A:g.Lc}}},305:(G,O,c)=>{c.d(O,{Hp:()=>ie,Lv:()=>A});var l=c(4674),g=c(7394),w=c(2653),E=c(3894),b=c(2420);const V=P("C",void 0,void 0);function P(I,D,L){return{kind:I,value:D,error:L}}var S=c(7599),y=c(1441);class A extends g.w0{constructor(D){super(),this.isStopped=!1,D?(this.destination=D,(0,g.Nn)(D)&&D.add(this)):this.destination=se}static create(D,L,re){return new ie(D,L,re)}next(D){this.isStopped?ne(function H(I){return P("N",I,void 0)}(D),this):this._next(D)}error(D){this.isStopped?ne(function t(I){return P("E",void 0,I)}(D),this):(this.isStopped=!0,this._error(D))}complete(){this.isStopped?ne(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(D){this.destination.next(D)}_error(D){try{this.destination.error(D)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const K=Function.prototype.bind;function x(I,D){return K.call(I,D)}class k{constructor(D){this.partialObserver=D}next(D){const{partialObserver:L}=this;if(L.next)try{L.next(D)}catch(re){Z(re)}}error(D){const{partialObserver:L}=this;if(L.error)try{L.error(D)}catch(re){Z(re)}else Z(D)}complete(){const{partialObserver:D}=this;if(D.complete)try{D.complete()}catch(L){Z(L)}}}class ie extends A{constructor(D,L,re){let R;if(super(),(0,l.m)(D)||!D)R={next:D??void 0,error:L??void 0,complete:re??void 0};else{let N;this&&w.config.useDeprecatedNextContext?(N=Object.create(D),N.unsubscribe=()=>this.unsubscribe(),R={next:D.next&&x(D.next,N),error:D.error&&x(D.error,N),complete:D.complete&&x(D.complete,N)}):R=D}this.destination=new k(R)}}function Z(I){w.config.useDeprecatedSynchronousErrorHandling?(0,y.O)(I):(0,E.h)(I)}function ne(I,D){const{onStoppedNotification:L}=w.config;L&&S.z.setTimeout(()=>L(I,D))}const se={closed:!0,next:b.Z,error:function te(I){throw I},complete:b.Z}},7394:(G,O,c)=>{c.d(O,{Lc:()=>V,w0:()=>b,Nn:()=>t});var l=c(4674);const w=(0,c(2306).d)(P=>function(y){P(this),this.message=y?`${y.length} errors occurred during unsubscription:\n${y.map((A,K)=>`${K+1}) ${A.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=y});var E=c(9039);class b{constructor(S){this.initialTeardown=S,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let S;if(!this.closed){this.closed=!0;const{_parentage:y}=this;if(y)if(this._parentage=null,Array.isArray(y))for(const x of y)x.remove(this);else y.remove(this);const{initialTeardown:A}=this;if((0,l.m)(A))try{A()}catch(x){S=x instanceof w?x.errors:[x]}const{_finalizers:K}=this;if(K){this._finalizers=null;for(const x of K)try{H(x)}catch(k){S=S??[],k instanceof w?S=[...S,...k.errors]:S.push(k)}}if(S)throw new w(S)}}add(S){var y;if(S&&S!==this)if(this.closed)H(S);else{if(S instanceof b){if(S.closed||S._hasParent(this))return;S._addParent(this)}(this._finalizers=null!==(y=this._finalizers)&&void 0!==y?y:[]).push(S)}}_hasParent(S){const{_parentage:y}=this;return y===S||Array.isArray(y)&&y.includes(S)}_addParent(S){const{_parentage:y}=this;this._parentage=Array.isArray(y)?(y.push(S),y):y?[y,S]:S}_removeParent(S){const{_parentage:y}=this;y===S?this._parentage=null:Array.isArray(y)&&(0,E.P)(y,S)}remove(S){const{_finalizers:y}=this;y&&(0,E.P)(y,S),S instanceof b&&S._removeParent(this)}}b.EMPTY=(()=>{const P=new b;return P.closed=!0,P})();const V=b.EMPTY;function t(P){return P instanceof b||P&&"closed"in P&&(0,l.m)(P.remove)&&(0,l.m)(P.add)&&(0,l.m)(P.unsubscribe)}function H(P){(0,l.m)(P)?P():P.unsubscribe()}},2653:(G,O,c)=>{c.d(O,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7715:(G,O,c)=>{c.d(O,{D:()=>re});var l=c(4829),g=c(7103),w=c(9360),E=c(8251);function b(R,N=0){return(0,w.e)((z,J)=>{z.subscribe((0,E.x)(J,Q=>(0,g.f)(J,R,()=>J.next(Q),N),()=>(0,g.f)(J,R,()=>J.complete(),N),Q=>(0,g.f)(J,R,()=>J.error(Q),N)))})}function V(R,N=0){return(0,w.e)((z,J)=>{J.add(R.schedule(()=>z.subscribe(J),N))})}var P=c(5592),y=c(4971),A=c(4674);function x(R,N){if(!R)throw new Error("Iterable cannot be null");return new P.y(z=>{(0,g.f)(z,N,()=>{const J=R[Symbol.asyncIterator]();(0,g.f)(z,N,()=>{J.next().then(Q=>{Q.done?z.complete():z.next(Q.value)})},0,!0)})})}var k=c(8382),ie=c(4026),Z=c(4266),te=c(3664),ne=c(5726),se=c(9853),I=c(541);function re(R,N){return N?function L(R,N){if(null!=R){if((0,k.c)(R))return function t(R,N){return(0,l.Xf)(R).pipe(V(N),b(N))}(R,N);if((0,Z.z)(R))return function S(R,N){return new P.y(z=>{let J=0;return N.schedule(function(){J===R.length?z.complete():(z.next(R[J++]),z.closed||this.schedule())})})}(R,N);if((0,ie.t)(R))return function H(R,N){return(0,l.Xf)(R).pipe(V(N),b(N))}(R,N);if((0,ne.D)(R))return x(R,N);if((0,te.T)(R))return function K(R,N){return new P.y(z=>{let J;return(0,g.f)(z,N,()=>{J=R[y.h](),(0,g.f)(z,N,()=>{let Q,de;try{({value:Q,done:de}=J.next())}catch(Ee){return void z.error(Ee)}de?z.complete():z.next(Q)},0,!0)}),()=>(0,A.m)(J?.return)&&J.return()})}(R,N);if((0,I.L)(R))return function D(R,N){return x((0,I.Q)(R),N)}(R,N)}throw(0,se.z)(R)}(R,N):(0,l.Xf)(R)}},4829:(G,O,c)=>{c.d(O,{Xf:()=>K});var l=c(7582),g=c(4266),w=c(4026),E=c(5592),b=c(8382),V=c(5726),t=c(9853),H=c(3664),P=c(541),S=c(4674),y=c(3894),A=c(4850);function K(I){if(I instanceof E.y)return I;if(null!=I){if((0,b.c)(I))return function x(I){return new E.y(D=>{const L=I[A.L]();if((0,S.m)(L.subscribe))return L.subscribe(D);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(I);if((0,g.z)(I))return function k(I){return new E.y(D=>{for(let L=0;L<I.length&&!D.closed;L++)D.next(I[L]);D.complete()})}(I);if((0,w.t)(I))return function ie(I){return new E.y(D=>{I.then(L=>{D.closed||(D.next(L),D.complete())},L=>D.error(L)).then(null,y.h)})}(I);if((0,V.D)(I))return te(I);if((0,H.T)(I))return function Z(I){return new E.y(D=>{for(const L of I)if(D.next(L),D.closed)return;D.complete()})}(I);if((0,P.L)(I))return function ne(I){return te((0,P.Q)(I))}(I)}throw(0,t.z)(I)}function te(I){return new E.y(D=>{(function se(I,D){var L,re,R,N;return(0,l.mG)(this,void 0,void 0,function*(){try{for(L=(0,l.KL)(I);!(re=yield L.next()).done;)if(D.next(re.value),D.closed)return}catch(z){R={error:z}}finally{try{re&&!re.done&&(N=L.return)&&(yield N.call(L))}finally{if(R)throw R.error}}D.complete()})})(I,D).catch(L=>D.error(L))})}},2096:(G,O,c)=>{c.d(O,{of:()=>w});var l=c(4564),g=c(7715);function w(...E){const b=(0,l.yG)(E);return(0,g.D)(E,b)}},8251:(G,O,c)=>{c.d(O,{x:()=>g});var l=c(305);function g(E,b,V,t,H){return new w(E,b,V,t,H)}class w extends l.Lv{constructor(b,V,t,H,P,S){super(b),this.onFinalize=P,this.shouldUnsubscribe=S,this._next=V?function(y){try{V(y)}catch(A){b.error(A)}}:super._next,this._error=H?function(y){try{H(y)}catch(A){b.error(A)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(y){b.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:V}=this;super.unsubscribe(),!V&&(null===(b=this.onFinalize)||void 0===b||b.call(this))}}}},7398:(G,O,c)=>{c.d(O,{U:()=>w});var l=c(9360),g=c(8251);function w(E,b){return(0,l.e)((V,t)=>{let H=0;V.subscribe((0,g.x)(t,P=>{t.next(E.call(b,P,H++))}))})}},9397:(G,O,c)=>{c.d(O,{b:()=>b});var l=c(4674),g=c(9360),w=c(8251),E=c(2737);function b(V,t,H){const P=(0,l.m)(V)||t||H?{next:V,error:t,complete:H}:V;return P?(0,g.e)((S,y)=>{var A;null===(A=P.subscribe)||void 0===A||A.call(P);let K=!0;S.subscribe((0,w.x)(y,x=>{var k;null===(k=P.next)||void 0===k||k.call(P,x),y.next(x)},()=>{var x;K=!1,null===(x=P.complete)||void 0===x||x.call(P),y.complete()},x=>{var k;K=!1,null===(k=P.error)||void 0===k||k.call(P,x),y.error(x)},()=>{var x,k;K&&(null===(x=P.unsubscribe)||void 0===x||x.call(P)),null===(k=P.finalize)||void 0===k||k.call(P)}))}):E.y}},7599:(G,O,c)=>{c.d(O,{z:()=>l});const l={setTimeout(g,w,...E){const{delegate:b}=l;return b?.setTimeout?b.setTimeout(g,w,...E):setTimeout(g,w,...E)},clearTimeout(g){const{delegate:w}=l;return(w?.clearTimeout||clearTimeout)(g)},delegate:void 0}},4971:(G,O,c)=>{c.d(O,{h:()=>g});const g=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(G,O,c)=>{c.d(O,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(G,O,c)=>{c.d(O,{_6:()=>V,jO:()=>E,yG:()=>b});var l=c(4674);function w(t){return t[t.length-1]}function E(t){return(0,l.m)(w(t))?t.pop():void 0}function b(t){return function g(t){return t&&(0,l.m)(t.schedule)}(w(t))?t.pop():void 0}function V(t,H){return"number"==typeof w(t)?t.pop():H}},7453:(G,O,c)=>{c.d(O,{D:()=>b});const{isArray:l}=Array,{getPrototypeOf:g,prototype:w,keys:E}=Object;function b(t){if(1===t.length){const H=t[0];if(l(H))return{args:H,keys:null};if(function V(t){return t&&"object"==typeof t&&g(t)===w}(H)){const P=E(H);return{args:P.map(S=>H[S]),keys:P}}}return{args:t,keys:null}}},9039:(G,O,c)=>{function l(g,w){if(g){const E=g.indexOf(w);0<=E&&g.splice(E,1)}}c.d(O,{P:()=>l})},2306:(G,O,c)=>{function l(g){const E=g(b=>{Error.call(b),b.stack=(new Error).stack});return E.prototype=Object.create(Error.prototype),E.prototype.constructor=E,E}c.d(O,{d:()=>l})},2714:(G,O,c)=>{function l(g,w){return g.reduce((E,b,V)=>(E[b]=w[V],E),{})}c.d(O,{n:()=>l})},1441:(G,O,c)=>{c.d(O,{O:()=>E,x:()=>w});var l=c(2653);let g=null;function w(b){if(l.config.useDeprecatedSynchronousErrorHandling){const V=!g;if(V&&(g={errorThrown:!1,error:null}),b(),V){const{errorThrown:t,error:H}=g;if(g=null,t)throw H}}else b()}function E(b){l.config.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=b)}},7103:(G,O,c)=>{function l(g,w,E,b=0,V=!1){const t=w.schedule(function(){E(),V?g.add(this.schedule(null,b)):this.unsubscribe()},b);if(g.add(t),!V)return t}c.d(O,{f:()=>l})},2737:(G,O,c)=>{function l(g){return g}c.d(O,{y:()=>l})},4266:(G,O,c)=>{c.d(O,{z:()=>l});const l=g=>g&&"number"==typeof g.length&&"function"!=typeof g},5726:(G,O,c)=>{c.d(O,{D:()=>g});var l=c(4674);function g(w){return Symbol.asyncIterator&&(0,l.m)(w?.[Symbol.asyncIterator])}},4674:(G,O,c)=>{function l(g){return"function"==typeof g}c.d(O,{m:()=>l})},8382:(G,O,c)=>{c.d(O,{c:()=>w});var l=c(4850),g=c(4674);function w(E){return(0,g.m)(E[l.L])}},3664:(G,O,c)=>{c.d(O,{T:()=>w});var l=c(4971),g=c(4674);function w(E){return(0,g.m)(E?.[l.h])}},4026:(G,O,c)=>{c.d(O,{t:()=>g});var l=c(4674);function g(w){return(0,l.m)(w?.then)}},541:(G,O,c)=>{c.d(O,{L:()=>E,Q:()=>w});var l=c(7582),g=c(4674);function w(b){return(0,l.FC)(this,arguments,function*(){const t=b.getReader();try{for(;;){const{value:H,done:P}=yield(0,l.qq)(t.read());if(P)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(H)}}finally{t.releaseLock()}})}function E(b){return(0,g.m)(b?.getReader)}},9360:(G,O,c)=>{c.d(O,{A:()=>g,e:()=>w});var l=c(4674);function g(E){return(0,l.m)(E?.lift)}function w(E){return b=>{if(g(b))return b.lift(function(V){try{return E(V,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(G,O,c)=>{c.d(O,{Z:()=>E});var l=c(7398);const{isArray:g}=Array;function E(b){return(0,l.U)(V=>function w(b,V){return g(V)?b(...V):b(V)}(b,V))}},2420:(G,O,c)=>{function l(){}c.d(O,{Z:()=>l})},8407:(G,O,c)=>{c.d(O,{U:()=>w,z:()=>g});var l=c(2737);function g(...E){return w(E)}function w(E){return 0===E.length?l.y:1===E.length?E[0]:function(V){return E.reduce((t,H)=>H(t),V)}}},3894:(G,O,c)=>{c.d(O,{h:()=>w});var l=c(2653),g=c(7599);function w(E){g.z.setTimeout(()=>{const{onUnhandledError:b}=l.config;if(!b)throw E;b(E)})}},9853:(G,O,c)=>{function l(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}c.d(O,{z:()=>l})},6593:(G,O,c)=>{c.d(O,{Cg:()=>m,Dx:()=>De});var l=c(5559),g=c(2691);c(206);class E extends g.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class b extends E{static makeCurrent(){(0,g.\u0275setRootDomAdapter)(new b)}onAndCancel(u,s,a){return u.addEventListener(s,a),()=>{u.removeEventListener(s,a)}}dispatchEvent(u,s){u.dispatchEvent(s)}remove(u){u.parentNode&&u.parentNode.removeChild(u)}createElement(u,s){return(s=s||this.getDefaultDocument()).createElement(u)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(u){return u.nodeType===Node.ELEMENT_NODE}isShadowRoot(u){return u instanceof DocumentFragment}getGlobalEventTarget(u,s){return"window"===s?window:"document"===s?u:"body"===s?u.body:null}getBaseHref(u){const s=function t(){return V=V||document.querySelector("base"),V?V.getAttribute("href"):null}();return null==s?null:function H(f){return new URL(f,"http://a").pathname}(s)}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}getCookie(u){return(0,g.\u0275parseCookieValue)(document.cookie,u)}}let V=null,S=(()=>{class f{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(a){return new(a||f)};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}return f})();const y=new l.InjectionToken("EventManagerPlugins");let A=(()=>{class f{constructor(s,a){this._zone=a,this._eventNameToPlugin=new Map,s.forEach(_=>{_.manager=this}),this._plugins=s.slice().reverse()}addEventListener(s,a,_){return this._findPluginFor(a).addEventListener(s,a,_)}getZone(){return this._zone}_findPluginFor(s){let a=this._eventNameToPlugin.get(s);if(a)return a;if(a=this._plugins.find(F=>F.supports(s)),!a)throw new l.\u0275RuntimeError(5101,!1);return this._eventNameToPlugin.set(s,a),a}static#e=this.\u0275fac=function(a){return new(a||f)(l.\u0275\u0275inject(y),l.\u0275\u0275inject(l.NgZone))};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}return f})();class K{constructor(u){this._doc=u}}const x="ng-app-id";let k=(()=>{class f{constructor(s,a,_,F={}){this.doc=s,this.appId=a,this.nonce=_,this.platformId=F,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.isPlatformServer)(F),this.resetHostNodes()}addStyles(s){for(const a of s)1===this.changeUsageCount(a,1)&&this.onStyleAdded(a)}removeStyles(s){for(const a of s)this.changeUsageCount(a,-1)<=0&&this.onStyleRemoved(a)}ngOnDestroy(){const s=this.styleNodesInDOM;s&&(s.forEach(a=>a.remove()),s.clear());for(const a of this.getAllStyles())this.onStyleRemoved(a);this.resetHostNodes()}addHost(s){this.hostNodes.add(s);for(const a of this.getAllStyles())this.addStyleToHost(s,a)}removeHost(s){this.hostNodes.delete(s)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(s){for(const a of this.hostNodes)this.addStyleToHost(a,s)}onStyleRemoved(s){const a=this.styleRef;a.get(s)?.elements?.forEach(_=>_.remove()),a.delete(s)}collectServerRenderedStyles(){const s=this.doc.head?.querySelectorAll(`style[${x}="${this.appId}"]`);if(s?.length){const a=new Map;return s.forEach(_=>{null!=_.textContent&&a.set(_.textContent,_)}),a}return null}changeUsageCount(s,a){const _=this.styleRef;if(_.has(s)){const F=_.get(s);return F.usage+=a,F.usage}return _.set(s,{usage:a,elements:[]}),a}getStyleElement(s,a){const _=this.styleNodesInDOM,F=_?.get(a);if(F?.parentNode===s)return _.delete(a),F.removeAttribute(x),F;{const U=this.doc.createElement("style");return this.nonce&&U.setAttribute("nonce",this.nonce),U.textContent=a,this.platformIsServer&&U.setAttribute(x,this.appId),s.appendChild(U),U}}addStyleToHost(s,a){const _=this.getStyleElement(s,a),F=this.styleRef,U=F.get(a)?.elements;U?U.push(_):F.set(a,{elements:[_],usage:1})}resetHostNodes(){const s=this.hostNodes;s.clear(),s.add(this.doc.head)}static#e=this.\u0275fac=function(a){return new(a||f)(l.\u0275\u0275inject(g.DOCUMENT),l.\u0275\u0275inject(l.APP_ID),l.\u0275\u0275inject(l.CSP_NONCE,8),l.\u0275\u0275inject(l.PLATFORM_ID))};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}return f})();const ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Z=/%COMP%/g,D=new l.InjectionToken("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function R(f,u){return u.map(s=>s.replace(Z,f))}let N=(()=>{class f{constructor(s,a,_,F,U,q,Y,ue=null){this.eventManager=s,this.sharedStylesHost=a,this.appId=_,this.removeStylesOnCompDestroy=F,this.doc=U,this.platformId=q,this.ngZone=Y,this.nonce=ue,this.rendererByCompId=new Map,this.platformIsServer=(0,g.isPlatformServer)(q),this.defaultRenderer=new z(s,U,Y,this.platformIsServer)}createRenderer(s,a){if(!s||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===l.ViewEncapsulation.ShadowDom&&(a={...a,encapsulation:l.ViewEncapsulation.Emulated});const _=this.getOrCreateRenderer(s,a);return _ instanceof Me?_.applyToHost(s):_ instanceof Se&&_.applyStyles(),_}getOrCreateRenderer(s,a){const _=this.rendererByCompId;let F=_.get(a.id);if(!F){const U=this.doc,q=this.ngZone,Y=this.eventManager,ue=this.sharedStylesHost,Ce=this.removeStylesOnCompDestroy,be=this.platformIsServer;switch(a.encapsulation){case l.ViewEncapsulation.Emulated:F=new Me(Y,ue,a,this.appId,Ce,U,q,be);break;case l.ViewEncapsulation.ShadowDom:return new Ee(Y,ue,s,a,U,q,this.nonce,be);default:F=new Se(Y,ue,a,Ce,U,q,be)}_.set(a.id,F)}return F}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(a){return new(a||f)(l.\u0275\u0275inject(A),l.\u0275\u0275inject(k),l.\u0275\u0275inject(l.APP_ID),l.\u0275\u0275inject(D),l.\u0275\u0275inject(g.DOCUMENT),l.\u0275\u0275inject(l.PLATFORM_ID),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(l.CSP_NONCE))};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}return f})();class z{constructor(u,s,a,_){this.eventManager=u,this.doc=s,this.ngZone=a,this.platformIsServer=_,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(u,s){return s?this.doc.createElementNS(ie[s]||s,u):this.doc.createElement(u)}createComment(u){return this.doc.createComment(u)}createText(u){return this.doc.createTextNode(u)}appendChild(u,s){(de(u)?u.content:u).appendChild(s)}insertBefore(u,s,a){u&&(de(u)?u.content:u).insertBefore(s,a)}removeChild(u,s){u&&u.removeChild(s)}selectRootElement(u,s){let a="string"==typeof u?this.doc.querySelector(u):u;if(!a)throw new l.\u0275RuntimeError(-5104,!1);return s||(a.textContent=""),a}parentNode(u){return u.parentNode}nextSibling(u){return u.nextSibling}setAttribute(u,s,a,_){if(_){s=_+":"+s;const F=ie[_];F?u.setAttributeNS(F,s,a):u.setAttribute(s,a)}else u.setAttribute(s,a)}removeAttribute(u,s,a){if(a){const _=ie[a];_?u.removeAttributeNS(_,s):u.removeAttribute(`${a}:${s}`)}else u.removeAttribute(s)}addClass(u,s){u.classList.add(s)}removeClass(u,s){u.classList.remove(s)}setStyle(u,s,a,_){_&(l.RendererStyleFlags2.DashCase|l.RendererStyleFlags2.Important)?u.style.setProperty(s,a,_&l.RendererStyleFlags2.Important?"important":""):u.style[s]=a}removeStyle(u,s,a){a&l.RendererStyleFlags2.DashCase?u.style.removeProperty(s):u.style[s]=""}setProperty(u,s,a){null!=u&&(u[s]=a)}setValue(u,s){u.nodeValue=s}listen(u,s,a){if("string"==typeof u&&!(u=(0,g.\u0275getDOM)().getGlobalEventTarget(this.doc,u)))throw new Error(`Unsupported event target ${u} for event ${s}`);return this.eventManager.addEventListener(u,s,this.decoratePreventDefault(a))}decoratePreventDefault(u){return s=>{if("__ngUnwrap__"===s)return u;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>u(s)):u(s))&&s.preventDefault()}}}function de(f){return"TEMPLATE"===f.tagName&&void 0!==f.content}class Ee extends z{constructor(u,s,a,_,F,U,q,Y){super(u,F,U,Y),this.sharedStylesHost=s,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ue=R(_.id,_.styles);for(const Ce of ue){const be=document.createElement("style");q&&be.setAttribute("nonce",q),be.textContent=Ce,this.shadowRoot.appendChild(be)}}nodeOrShadowRoot(u){return u===this.hostEl?this.shadowRoot:u}appendChild(u,s){return super.appendChild(this.nodeOrShadowRoot(u),s)}insertBefore(u,s,a){return super.insertBefore(this.nodeOrShadowRoot(u),s,a)}removeChild(u,s){return super.removeChild(this.nodeOrShadowRoot(u),s)}parentNode(u){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(u)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Se extends z{constructor(u,s,a,_,F,U,q,Y){super(u,F,U,q),this.sharedStylesHost=s,this.removeStylesOnCompDestroy=_,this.styles=Y?R(Y,a.styles):a.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Me extends Se{constructor(u,s,a,_,F,U,q,Y){const ue=_+"-"+a.id;super(u,s,a,F,U,q,Y,ue),this.contentAttr=function L(f){return"_ngcontent-%COMP%".replace(Z,f)}(ue),this.hostAttr=function re(f){return"_nghost-%COMP%".replace(Z,f)}(ue)}applyToHost(u){this.applyStyles(),this.setAttribute(u,this.hostAttr,"")}createElement(u,s){const a=super.createElement(u,s);return super.setAttribute(a,this.contentAttr,""),a}}let Ae=(()=>{class f extends K{constructor(s){super(s)}supports(s){return!0}addEventListener(s,a,_){return s.addEventListener(a,_,!1),()=>this.removeEventListener(s,a,_)}removeEventListener(s,a,_){return s.removeEventListener(a,_)}static#e=this.\u0275fac=function(a){return new(a||f)(l.\u0275\u0275inject(g.DOCUMENT))};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}return f})();const Ve=["alt","control","meta","shift"],d={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},h={alt:f=>f.altKey,control:f=>f.ctrlKey,meta:f=>f.metaKey,shift:f=>f.shiftKey};let p=(()=>{class f extends K{constructor(s){super(s)}supports(s){return null!=f.parseEventName(s)}addEventListener(s,a,_){const F=f.parseEventName(a),U=f.eventCallback(F.fullKey,_,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.\u0275getDOM)().onAndCancel(s,F.domEventName,U))}static parseEventName(s){const a=s.toLowerCase().split("."),_=a.shift();if(0===a.length||"keydown"!==_&&"keyup"!==_)return null;const F=f._normalizeKey(a.pop());let U="",q=a.indexOf("code");if(q>-1&&(a.splice(q,1),U="code."),Ve.forEach(ue=>{const Ce=a.indexOf(ue);Ce>-1&&(a.splice(Ce,1),U+=ue+".")}),U+=F,0!=a.length||0===F.length)return null;const Y={};return Y.domEventName=_,Y.fullKey=U,Y}static matchEventFullKeyCode(s,a){let _=d[s.key]||s.key,F="";return a.indexOf("code.")>-1&&(_=s.code,F="code."),!(null==_||!_)&&(_=_.toLowerCase()," "===_?_="space":"."===_&&(_="dot"),Ve.forEach(U=>{U!==_&&(0,h[U])(s)&&(F+=U+".")}),F+=_,F===a)}static eventCallback(s,a,_){return F=>{f.matchEventFullKeyCode(F,s)&&_.runGuarded(()=>a(F))}}static _normalizeKey(s){return"esc"===s?"escape":s}static#e=this.\u0275fac=function(a){return new(a||f)(l.\u0275\u0275inject(g.DOCUMENT))};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}return f})();function m(f,u){return(0,l.\u0275internalCreateApplication)({rootComponent:f,...C(u)})}function C(f){return{appProviders:[...me,...f?.providers??[]],platformProviders:ee}}const ee=[{provide:l.PLATFORM_ID,useValue:g.\u0275PLATFORM_BROWSER_ID},{provide:l.PLATFORM_INITIALIZER,useValue:function W(){b.makeCurrent()},multi:!0},{provide:g.DOCUMENT,useFactory:function j(){return(0,l.\u0275setDocument)(document),document},deps:[]}],me=[{provide:l.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:l.ErrorHandler,useFactory:function le(){return new l.ErrorHandler},deps:[]},{provide:y,useClass:Ae,multi:!0,deps:[g.DOCUMENT,l.NgZone,l.PLATFORM_ID]},{provide:y,useClass:p,multi:!0,deps:[g.DOCUMENT]},N,k,A,{provide:l.RendererFactory2,useExisting:N},{provide:g.XhrFactory,useClass:S,deps:[]},[]];let De=(()=>{class f{constructor(s){this._doc=s}getTitle(){return this._doc.title}setTitle(s){this._doc.title=s||""}static#e=this.\u0275fac=function(a){return new(a||f)(l.\u0275\u0275inject(g.DOCUMENT))};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:function(a){let _=null;return _=a?new a:function Te(){return new De((0,l.\u0275\u0275inject)(g.DOCUMENT))}(),_},providedIn:"root"})}return f})();typeof window<"u"&&window},7582:(G,O,c)=>{function A(d,h,p,m){return new(p||(p=Promise))(function(C,B){function W(ee){try{j(m.next(ee))}catch(ae){B(ae)}}function le(ee){try{j(m.throw(ee))}catch(ae){B(ae)}}function j(ee){ee.done?C(ee.value):function M(C){return C instanceof p?C:new p(function(B){B(C)})}(ee.value).then(W,le)}j((m=m.apply(d,h||[])).next())})}function I(d){return this instanceof I?(this.v=d,this):new I(d)}function D(d,h,p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,m=p.apply(d,h||[]),C=[];return M={},B("next"),B("throw"),B("return"),M[Symbol.asyncIterator]=function(){return this},M;function B(oe){m[oe]&&(M[oe]=function(he){return new Promise(function(me,fe){C.push([oe,he,me,fe])>1||W(oe,he)})})}function W(oe,he){try{!function le(oe){oe.value instanceof I?Promise.resolve(oe.value.v).then(j,ee):ae(C[0][2],oe)}(m[oe](he))}catch(me){ae(C[0][3],me)}}function j(oe){W("next",oe)}function ee(oe){W("throw",oe)}function ae(oe,he){oe(he),C.shift(),C.length&&W(C[0][0],C[0][1])}}function re(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,h=d[Symbol.asyncIterator];return h?h.call(d):(d=function ie(d){var h="function"==typeof Symbol&&Symbol.iterator,p=h&&d[h],m=0;if(p)return p.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&m>=d.length&&(d=void 0),{value:d&&d[m++],done:!d}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),p={},m("next"),m("throw"),m("return"),p[Symbol.asyncIterator]=function(){return this},p);function m(C){p[C]=d[C]&&function(B){return new Promise(function(W,le){!function M(C,B,W,le){Promise.resolve(le).then(function(j){C({value:j,done:W})},B)}(W,le,(B=d[C](B)).done,B.value)})}}}c.d(O,{FC:()=>D,KL:()=>re,mG:()=>A,qq:()=>I}),"function"==typeof SuppressedError&&SuppressedError}}]);